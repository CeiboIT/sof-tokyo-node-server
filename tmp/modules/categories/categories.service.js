/// <reference path="../../../typings/tsd.d.ts" />
/// <reference path="../connection/connection.service.ts" />
var Q = require("q");
var connection = require('../connection/connection.service');
var CategoriesService = (function () {
    function CategoriesService() {
        this.db = connection.service;
    }
    CategoriesService.prototype.getCategoriesList = function () {
        var _listPromise = Q.defer();
        this.db.query('core/get_category_index').then(function (results) {
            _listPromise.resolve(results['categories']);
        });
        return _listPromise.promise;
    };
    CategoriesService.prototype.getSubcategoriesList = function () {
        var _listPromise = Q.defer();
        //this.db.connect((err, result) => {
        this.db.query_db('SELECT * from wp2_posts').then(function (data) {
            console.log(data);
            _listPromise.resolve(data);
        });
        //})
        return _listPromise.promise;
    };
    return CategoriesService;
})();
exports.CategoriesService = CategoriesService;
;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZXMvY2F0ZWdvcmllcy9jYXRlZ29yaWVzLnNlcnZpY2UudHMiXSwibmFtZXMiOlsiQ2F0ZWdvcmllc1NlcnZpY2UiLCJDYXRlZ29yaWVzU2VydmljZS5jb25zdHJ1Y3RvciIsIkNhdGVnb3JpZXNTZXJ2aWNlLmdldENhdGVnb3JpZXNMaXN0IiwiQ2F0ZWdvcmllc1NlcnZpY2UuZ2V0U3ViY2F0ZWdvcmllc0xpc3QiXSwibWFwcGluZ3MiOiJBQUFBLGtEQUFrRDtBQUNsRCw0REFBNEQ7QUFFNUQsSUFBTyxDQUFDLFdBQVcsR0FBRyxDQUFDLENBQUM7QUFDeEIsSUFBTyxVQUFVLFdBQVcsa0NBQWtDLENBQUMsQ0FBQTtBQVMvRCxJQUFhLGlCQUFpQjtJQUE5QkEsU0FBYUEsaUJBQWlCQTtRQUNsQkMsT0FBRUEsR0FBR0EsVUFBVUEsQ0FBQ0EsT0FBT0EsQ0FBQ0E7SUF3QnBDQSxDQUFDQTtJQXRCR0QsNkNBQWlCQSxHQUFqQkE7UUFDSUUsSUFBSUEsWUFBWUEsR0FBR0EsQ0FBQ0EsQ0FBQ0EsS0FBS0EsRUFBRUEsQ0FBQ0E7UUFFN0JBLElBQUlBLENBQUNBLEVBQUVBLENBQUNBLEtBQUtBLENBQUNBLHlCQUF5QkEsQ0FBQ0EsQ0FDbkNBLElBQUlBLENBQUNBLFVBQUNBLE9BQU9BO1lBQ1ZBLFlBQVlBLENBQUNBLE9BQU9BLENBQUNBLE9BQU9BLENBQUNBLFlBQVlBLENBQUNBLENBQUNBLENBQUNBO1FBQ2hEQSxDQUFDQSxDQUFDQSxDQUFBQTtRQUVOQSxNQUFNQSxDQUFDQSxZQUFZQSxDQUFDQSxPQUFPQSxDQUFDQTtJQUNoQ0EsQ0FBQ0E7SUFFREYsZ0RBQW9CQSxHQUFwQkE7UUFDSUcsSUFBSUEsWUFBWUEsR0FBR0EsQ0FBQ0EsQ0FBQ0EsS0FBS0EsRUFBRUEsQ0FBQ0E7UUFDN0JBLEFBQ0lBLG9DQURnQ0E7UUFDaENBLElBQUlBLENBQUNBLEVBQUVBLENBQUNBLFFBQVFBLENBQUNBLHlCQUF5QkEsQ0FBQ0EsQ0FDdENBLElBQUlBLENBQUNBLFVBQUNBLElBQUlBO1lBQ1BBLE9BQU9BLENBQUNBLEdBQUdBLENBQUNBLElBQUlBLENBQUNBLENBQUNBO1lBQ2xCQSxZQUFZQSxDQUFDQSxPQUFPQSxDQUFDQSxJQUFJQSxDQUFDQSxDQUFDQTtRQUMvQkEsQ0FBQ0EsQ0FBQ0EsQ0FBQUE7UUFDVkEsQUFDQUEsSUFESUE7UUFDSkEsTUFBTUEsQ0FBQ0EsWUFBWUEsQ0FBQ0EsT0FBT0EsQ0FBQ0E7SUFDaENBLENBQUNBO0lBQ0xILHdCQUFDQTtBQUFEQSxDQXpCQSxBQXlCQ0EsSUFBQTtBQXpCWSx5QkFBaUIsR0FBakIsaUJBeUJaLENBQUE7QUFBQSxDQUFDIiwiZmlsZSI6Im1vZHVsZXMvY2F0ZWdvcmllcy9jYXRlZ29yaWVzLnNlcnZpY2UuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vdHlwaW5ncy90c2QuZC50c1wiIC8+XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vY29ubmVjdGlvbi9jb25uZWN0aW9uLnNlcnZpY2UudHNcIiAvPlxuXG5pbXBvcnQgUSA9IHJlcXVpcmUoXCJxXCIpO1xuaW1wb3J0IGNvbm5lY3Rpb24gPSByZXF1aXJlKCcuLi9jb25uZWN0aW9uL2Nvbm5lY3Rpb24uc2VydmljZScpXG5cbmV4cG9ydCBpbnRlcmZhY2UgSUNhdGVnb3JpZXNTZXJ2aWNlIHtcbiAgICAvLyBHRVRcbiAgICBnZXRDYXRlZ29yaWVzTGlzdCgpOiBRLklQcm9taXNlPHt9PjtcbiAgICBnZXRTdWJjYXRlZ29yaWVzTGlzdCgpOiBRLklQcm9taXNlPHt9Pjtcbn1cblxuXG5leHBvcnQgY2xhc3MgQ2F0ZWdvcmllc1NlcnZpY2UgaW1wbGVtZW50cyBJQ2F0ZWdvcmllc1NlcnZpY2Uge1xuICAgIHByaXZhdGUgZGIgPSBjb25uZWN0aW9uLnNlcnZpY2U7XG5cbiAgICBnZXRDYXRlZ29yaWVzTGlzdCgpOiBRLklQcm9taXNlPHt9PiB7XG4gICAgICAgIHZhciBfbGlzdFByb21pc2UgPSBRLmRlZmVyKCk7XG5cbiAgICAgICAgdGhpcy5kYi5xdWVyeSgnY29yZS9nZXRfY2F0ZWdvcnlfaW5kZXgnKVxuICAgICAgICAgICAgLnRoZW4oKHJlc3VsdHMpID0+IHtcbiAgICAgICAgICAgICAgICBfbGlzdFByb21pc2UucmVzb2x2ZShyZXN1bHRzWydjYXRlZ29yaWVzJ10pO1xuICAgICAgICAgICAgfSlcblxuICAgICAgICByZXR1cm4gX2xpc3RQcm9taXNlLnByb21pc2U7XG4gICAgfVxuXG4gICAgZ2V0U3ViY2F0ZWdvcmllc0xpc3QoKTogUS5JUHJvbWlzZTx7fT4ge1xuICAgICAgICB2YXIgX2xpc3RQcm9taXNlID0gUS5kZWZlcigpO1xuICAgICAgICAvL3RoaXMuZGIuY29ubmVjdCgoZXJyLCByZXN1bHQpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZGIucXVlcnlfZGIoJ1NFTEVDVCAqIGZyb20gd3AyX3Bvc3RzJylcbiAgICAgICAgICAgICAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgX2xpc3RQcm9taXNlLnJlc29sdmUoZGF0YSk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgLy99KVxuICAgICAgICByZXR1cm4gX2xpc3RQcm9taXNlLnByb21pc2U7XG4gICAgfVxufTtcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==