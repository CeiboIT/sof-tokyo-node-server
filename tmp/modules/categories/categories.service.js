/// <reference path="../../../typings/tsd.d.ts" />
/// <reference path="../connection/connection.service.ts" />
var Q = require("q");
var connection = require('../connection/connection.service');
var CategoriesService = (function () {
    function CategoriesService() {
        this.db = connection.service;
    }
    // TODO Necesitamos implementar paginacion Urgente!!!!
    CategoriesService.prototype.getCategoriesList = function () {
        var _listPromise = Q.defer();
        this.db.query('?json=get_recent_posts').then(function (results) {
            _listPromise.resolve(results['posts']);
        });
        return _listPromise.promise;
    };
    CategoriesService.prototype.getCategoryById = function (categoryId) {
        return this.db.query('?json=1&p=' + categoryId);
    };
    return CategoriesService;
})();
exports.CategoriesService = CategoriesService;
;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZXMvY2F0ZWdvcmllcy9jYXRlZ29yaWVzLnNlcnZpY2UudHMiXSwibmFtZXMiOlsiQ2F0ZWdvcmllc1NlcnZpY2UiLCJDYXRlZ29yaWVzU2VydmljZS5jb25zdHJ1Y3RvciIsIkNhdGVnb3JpZXNTZXJ2aWNlLmdldENhdGVnb3JpZXNMaXN0IiwiQ2F0ZWdvcmllc1NlcnZpY2UuZ2V0Q2F0ZWdvcnlCeUlkIl0sIm1hcHBpbmdzIjoiQUFBQSxrREFBa0Q7QUFDbEQsNERBQTREO0FBRTVELElBQU8sQ0FBQyxXQUFXLEdBQUcsQ0FBQyxDQUFDO0FBQ3hCLElBQU8sVUFBVSxXQUFXLGtDQUFrQyxDQUFDLENBQUE7QUFRL0QsSUFBYSxpQkFBaUI7SUFBOUJBLFNBQWFBLGlCQUFpQkE7UUFDbEJDLE9BQUVBLEdBQUdBLFVBQVVBLENBQUNBLE9BQU9BLENBQUNBO0lBbUJwQ0EsQ0FBQ0E7SUFqQkdELHNEQUFzREE7SUFHdERBLDZDQUFpQkEsR0FBakJBO1FBQ0lFLElBQUlBLFlBQVlBLEdBQUdBLENBQUNBLENBQUNBLEtBQUtBLEVBQUVBLENBQUNBO1FBRTdCQSxJQUFJQSxDQUFDQSxFQUFFQSxDQUFDQSxLQUFLQSxDQUFDQSx3QkFBd0JBLENBQUNBLENBQ2xDQSxJQUFJQSxDQUFDQSxVQUFDQSxPQUFPQTtZQUNWQSxZQUFZQSxDQUFDQSxPQUFPQSxDQUFDQSxPQUFPQSxDQUFDQSxPQUFPQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUMzQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQUE7UUFFTkEsTUFBTUEsQ0FBQ0EsWUFBWUEsQ0FBQ0EsT0FBT0EsQ0FBQ0E7SUFDaENBLENBQUNBO0lBRURGLDJDQUFlQSxHQUFmQSxVQUFnQkEsVUFBVUE7UUFDdEJHLE1BQU1BLENBQUNBLElBQUlBLENBQUNBLEVBQUVBLENBQUNBLEtBQUtBLENBQUNBLFlBQVlBLEdBQUdBLFVBQVVBLENBQUNBLENBQUFBO0lBQ25EQSxDQUFDQTtJQUNMSCx3QkFBQ0E7QUFBREEsQ0FwQkEsQUFvQkNBLElBQUE7QUFwQlkseUJBQWlCLEdBQWpCLGlCQW9CWixDQUFBO0FBQUEsQ0FBQyIsImZpbGUiOiJtb2R1bGVzL2NhdGVnb3JpZXMvY2F0ZWdvcmllcy5zZXJ2aWNlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uLy4uL3R5cGluZ3MvdHNkLmQudHNcIiAvPlxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL2Nvbm5lY3Rpb24vY29ubmVjdGlvbi5zZXJ2aWNlLnRzXCIgLz5cblxuaW1wb3J0IFEgPSByZXF1aXJlKFwicVwiKTtcbmltcG9ydCBjb25uZWN0aW9uID0gcmVxdWlyZSgnLi4vY29ubmVjdGlvbi9jb25uZWN0aW9uLnNlcnZpY2UnKVxuXG5leHBvcnQgaW50ZXJmYWNlIElDYXRlZ29yaWVzU2VydmljZSB7XG4gICAgZ2V0Q2F0ZWdvcmllc0xpc3QoKTogUS5JUHJvbWlzZTx7fT5cbiAgICBnZXRDYXRlZ29yeUJ5SWQocHJvZHVjdElkKTogUS5JUHJvbWlzZTx7fT5cbn1cblxuXG5leHBvcnQgY2xhc3MgQ2F0ZWdvcmllc1NlcnZpY2UgaW1wbGVtZW50cyBJQ2F0ZWdvcmllc1NlcnZpY2Uge1xuICAgIHByaXZhdGUgZGIgPSBjb25uZWN0aW9uLnNlcnZpY2U7XG5cbiAgICAvLyBUT0RPIE5lY2VzaXRhbW9zIGltcGxlbWVudGFyIHBhZ2luYWNpb24gVXJnZW50ZSEhISFcblxuXG4gICAgZ2V0Q2F0ZWdvcmllc0xpc3QoKTogUS5JUHJvbWlzZTx7fT4ge1xuICAgICAgICB2YXIgX2xpc3RQcm9taXNlID0gUS5kZWZlcigpO1xuXG4gICAgICAgIHRoaXMuZGIucXVlcnkoJz9qc29uPWdldF9yZWNlbnRfcG9zdHMnKVxuICAgICAgICAgICAgLnRoZW4oKHJlc3VsdHMpID0+IHtcbiAgICAgICAgICAgICAgICBfbGlzdFByb21pc2UucmVzb2x2ZShyZXN1bHRzWydwb3N0cyddKTtcbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgcmV0dXJuIF9saXN0UHJvbWlzZS5wcm9taXNlO1xuICAgIH1cblxuICAgIGdldENhdGVnb3J5QnlJZChjYXRlZ29yeUlkKTogUS5JUHJvbWlzZTx7fT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5kYi5xdWVyeSgnP2pzb249MSZwPScgKyBjYXRlZ29yeUlkKVxuICAgIH1cbn07XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=