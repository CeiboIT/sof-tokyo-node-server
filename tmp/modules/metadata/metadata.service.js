/// <reference path="../../../typings/tsd.d.ts" />
/// <reference path="../connection/connection.service.ts" />
var Q = require("q");
var connection = require('../connection/connection.service');
var _ = require('lodash');
var MetadataService = (function () {
    function MetadataService() {
        this.db = connection.service;
    }
    MetadataService.prototype.getSubcategoriesList = function () {
        var _this = this;
        var _promise = Q.defer();
        this.getSubcategories0List().then(function (subcat0) {
            _this.getSubcategories1List().then(function (subcat1) {
                var _groupedSubcategories = _.groupBy(subcat1, 'parent');
                subcat0.forEach(function (parentCategory) {
                    parentCategory['childs'] = _groupedSubcategories[parentCategory['id']];
                });
                _promise.resolve(subcat0);
            });
        });
        return _promise.promise;
    };
    MetadataService.prototype.getSubcategories0List = function () {
        var _listPromise = Q.defer();
        var subcategories0 = [
            { id: 1, name: 'tops', trad: 'トップス' },
            { id: 2, name: 'jacket_outer', trad: 'ジャケット/アウター' },
            { id: 3, name: 'pants', trad: 'パンツ' },
            { id: 4, name: 'skirt', trad: 'スカート' },
            { id: 5, name: 'onepiece', trad: 'ワンピース/ドレス' },
            { id: 6, name: 'setup', trad: 'セットアップ' },
            { id: 7, name: 'total_code', trad: 'トータルコーデ' },
            { id: 8, name: 'shoes', trad: 'シューズ' },
            { id: 9, name: 'goods', trad: 'ファッショングッズ' }
        ];
        _listPromise.resolve(subcategories0);
        /*
                this.db.query_db("SELECT DISTINCT meta_value AS value FROM wp2_postmeta WHERE meta_key = 'sofbackend__sof_work_meta__category_0'")
                    .then((data) => {
                        _listPromise.resolve(data);
                    })
        */
        return _listPromise.promise;
    };
    MetadataService.prototype.getSubcategories1List = function () {
        var _listPromise = Q.defer();
        var subcategories1 = [
            { id: 1, parent: 1, name: 't_shirt', trad: 'Tシャツ/カットソー' },
            { id: 2, parent: 1, name: 'shirt', trad: 'シャツ/ブラウス' },
            { id: 3, parent: 1, name: 'proshirt', trad: 'ポロシャツ' },
            { id: 4, parent: 1, name: 'knit', trad: 'ニット/セーター' },
            { id: 5, parent: 1, name: 'vest', trad: 'ベスト' },
            { id: 6, parent: 1, name: 'parka', trad: 'パーカー' },
            { id: 7, parent: 1, name: 'sweat', trad: 'スウェット' },
            { id: 8, parent: 1, name: 'cardigan', trad: 'カーディガン' },
            { id: 9, parent: 1, name: 'tank_tops', trad: 'タンクトップ' },
            { id: 10, parent: 1, name: 'other_tops', trad: 'その他のトップス' },
            { id: 11, parent: 2, name: 'jacket', trad: 'ジャケット' },
            { id: 12, parent: 2, name: 'leather_jacket', trad: 'レザージャケット' },
            { id: 13, parent: 2, name: 'military_jacket', trad: 'ミリタリージャケット' },
            { id: 14, parent: 2, name: 'blouson', trad: 'ブルゾン' },
            { id: 15, parent: 2, name: 'chester_coat', trad: 'チェスターコート' },
            { id: 16, parent: 2, name: 'trench_coat', trad: 'トレンチコート' },
            { id: 17, parent: 2, name: 'stand-collar_coat', trad: 'ステンカラーコート' },
            { id: 18, parent: 2, name: 'mods_coat', trad: 'モッズコート' },
            { id: 19, parent: 2, name: 'pea_coat', trad: 'ピーコート' },
            { id: 20, parent: 2, name: 'duffle_coat', trad: 'ダッフルコート' },
            { id: 21, parent: 2, name: 'down_jacket', trad: 'ダウンジャケット' },
            { id: 22, parent: 2, name: 'other_jacket_outer', trad: 'その他のジャケット/アウター' },
            { id: 23, parent: 3, name: 'pants', trad: 'パンツ' },
            { id: 24, parent: 3, name: 'wide_pants', trad: 'ワイドパンツ' },
            { id: 25, parent: 3, name: 'slim_pants', trad: 'スリムパンツ' },
            { id: 26, parent: 3, name: 'slax', trad: 'スラックス' },
            { id: 27, parent: 3, name: 'denim', trad: 'デニム' },
            { id: 28, parent: 3, name: 'short_pants', trad: 'ショートパンツ' },
            { id: 29, parent: 3, name: 'leather_pants', trad: 'レザーパンツ' },
            { id: 30, parent: 3, name: 'chino_pants', trad: 'チノパンツ' },
            { id: 31, parent: 3, name: 'other_pants', trad: 'その他のパンツ' },
            { id: 32, parent: 4, name: 'skirt', trad: 'スカート' },
            { id: 33, parent: 4, name: 'tight_skirt', trad: 'タイトスカート' },
            { id: 34, parent: 4, name: 'long_skirt', trad: 'ロングスカート' },
            { id: 35, parent: 4, name: 'flare_skirt', trad: 'フレアスカート' },
            { id: 36, parent: 4, name: 'peplum_skirt', trad: 'ペプラムスカート' },
            { id: 37, parent: 4, name: 'pleats_skirt', trad: 'プリーツスカート' },
            { id: 38, parent: 4, name: 'culottes_skirt', trad: 'キュロットスカート' },
            { id: 39, parent: 4, name: 'gored_skirt', trad: 'ゴアードスカート' },
            { id: 40, parent: 4, name: 'tiered_skirt', trad: 'ティアードスカート' },
            { id: 41, parent: 4, name: 'other_skirt', trad: 'その他のスカート' },
            { id: 42, parent: 5, name: 'onepiece', trad: 'ワンピース' },
            { id: 43, parent: 5, name: 'shirt_onepiece', trad: 'シャツワンピース' },
            { id: 44, parent: 5, name: 'maxi_onepiece', trad: 'マキシワンピース' },
            { id: 45, parent: 5, name: 'tunic', trad: 'チュニック' },
            { id: 46, parent: 5, name: 'dress', trad: 'ドレス' },
            { id: 47, parent: 5, name: 'wedding_dress', trad: 'ウェディングドレス' },
            { id: 48, parent: 5, name: 'other_onepiece', trad: 'その他のワンピース/ドレス' },
            { id: 49, parent: 6, name: 'setup', trad: 'セットアップ' },
            { id: 50, parent: 7, name: 'total_code', trad: 'トータルコーデ' },
            { id: 51, parent: 8, name: 'sneaker', trad: 'スニーカー' },
            { id: 52, parent: 8, name: 'dress_shoes', trad: 'ドレスシューズ' },
            { id: 53, parent: 8, name: 'pumps', trad: 'パンプス' },
            { id: 54, parent: 8, name: 'boots', trad: 'ブーツ' },
            { id: 55, parent: 8, name: 'long_boots', trad: 'ロングブーツ' },
            { id: 56, parent: 8, name: 'sandal', trad: 'サンダル' },
            { id: 57, parent: 8, name: 'rain_shoes', trad: 'レインシューズ' },
            { id: 58, parent: 8, name: 'other_shoes', trad: 'その他のシューズ' },
            { id: 59, parent: 9, name: 'hat', trad: '帽子' },
            { id: 60, parent: 9, name: 'watch', trad: '時計' },
            { id: 61, parent: 9, name: 'bag', trad: 'バッグ' },
            { id: 62, parent: 9, name: 'totes_bag', trad: 'トートバッグ' },
            { id: 63, parent: 9, name: 'backpack', trad: 'バックパック/リュック' },
            { id: 64, parent: 9, name: 'boston_bag', trad: 'ボストンバッグ' },
            { id: 65, parent: 9, name: 'clutch_bag', trad: 'クラッチバッグ' },
            { id: 66, parent: 9, name: 'west_bag', trad: 'ウエストバッグ' },
            { id: 67, parent: 9, name: 'jewelry', trad: 'ジュエリー' }
        ];
        _listPromise.resolve(subcategories1);
        /*
                this.db.query_db("SELECT DISTINCT meta_value AS value FROM wp2_postmeta WHERE meta_key = 'sofbackend__sof_work_meta__category_1'")
                    .then((data) => {
                        _listPromise.resolve(data);
                    })
        */
        return _listPromise.promise;
    };
    MetadataService.prototype.getSchoolsList = function () {
        var _listPromise = Q.defer();
        this.db.query_db("SELECT DISTINCT value FROM wp2_bp_xprofile_data WHERE field_id=4").then(function (data) {
            _listPromise.resolve(data);
        });
        return _listPromise.promise;
    };
    MetadataService.prototype.getStylesList = function () {
        var _listPromise = Q.defer();
        var styles = [
            { id: 1, name: "simple", trad: "シンプル" },
            { id: 2, name: "casual", trad: "カジュアル" },
            { id: 3, name: "feminine", trad: "フェミニン" },
            { id: 4, name: "mode", trad: "モード" },
            { id: 5, name: "street", trad: "ストリート" },
            { id: 6, name: "art", trad: "アート" },
            { id: 7, name: "elegance", trad: "エレガンス" },
            { id: 8, name: "classic", trad: "クラシック" },
            { id: 9, name: "sporty", trad: "スポーティ" },
            { id: 10, name: "oriental", trad: "オリエンタル" },
            { id: 11, name: "decora", trad: "デコラ" },
            { id: 12, name: "hippy_country", trad: "ヒッピー/カントリー" },
            { id: 13, name: "x_gender", trad: "クロスジェンダー" },
            { id: 14, name: "manish", trad: "マニッシュ" },
            { id: 15, name: "preppy", trad: "フレッピー" },
            { id: 16, name: "military", trad: "ミリタリー" },
            { id: 17, name: "rock", trad: "ロック" },
            { id: 18, name: "lolita", trad: "ロリータ" },
            { id: 19, name: "sexy_dandy", trad: "セクシィ/ダンディ" },
            { id: 20, name: "ethnic", trad: "エスニック" },
            { id: 21, name: "future", trad: "フューチャー" },
            { id: 22, name: "other", trad: "該当なし" }
        ];
        _listPromise.resolve(styles);
        /*
                this.db.query_db("SELECT DISTINCT meta_value AS value FROM wp2_postmeta WHERE meta_key = 'sofbackend__sof_work_meta__style'")
                    .then((data) => {
                        _listPromise.resolve(data);
                    })
        */
        return _listPromise.promise;
    };
    MetadataService.prototype.getSexsList = function () {
        var _listPromise = Q.defer();
        var sexs = [
            { id: 1, name: "mens", trad: "MEN" },
            { id: 2, name: "womens", trad: "WOMEN" },
            { id: 3, name: "unisex", trad: "UNISEX" }
        ];
        _listPromise.resolve(sexs);
        return _listPromise.promise;
    };
    MetadataService.prototype.getSchoolByMemberId = function (memberId) {
        var _promise = Q.defer();
        this.db.query_db("SELECT value FROM wp2_bp_xprofile_data WHERE field_id=4 AND user_id=" + memberId).then(function (data) {
            _promise.resolve(data);
        });
        return _promise.promise;
    };
    MetadataService.prototype.getProductMetadata = function (productId) {
        var _this = this;
        var _promise = Q.defer();
        var getMetadata = Q.defer();
        var getSubcategories0 = Q.defer();
        var getSubcategories1 = Q.defer();
        var getStyles = Q.defer();
        var _otherPromises = [getMetadata.promise, getSubcategories0.promise, getSubcategories1.promise, getStyles.promise];
        var query = "(SELECT A.meta_key AS field, A.meta_value AS value " + "FROM wp2_postmeta A " + "WHERE A.post_id=" + productId + " AND A.meta_key <> 'visit') " + "UNION " + "(SELECT B.meta_key AS field, COUNT(DISTINCT B.meta_value) AS value " + "FROM wp2_postmeta B " + "WHERE B.meta_key = 'visit' AND B.post_id=" + productId + ")";
        this.db.query_db(query).then(function (data) {
            var dataJson = JSON.parse(JSON.stringify(data));
            getMetadata.resolve(data);
            // get subcategories0 translations
            _this.getSubcategories0List().then(function (subcategories0) {
                getSubcategories0.resolve(data);
                // get subcategories1 translations
                _this.getSubcategories1List().then(function (subcategories1) {
                    getSubcategories1.resolve(data);
                    // get styles translations
                    _this.getStylesList().then(function (styles) {
                        getStyles.resolve(data);
                        // populate translations
                        _.forEach(dataJson, function (value, key) {
                            //console.log("record");
                            if (value.field == 'sofbackend__sof_work_meta__category_0') {
                                value.trad = _.result(_.find(subcategories0, function (obj) {
                                    return obj.name === value.value;
                                }), 'trad');
                            }
                            ;
                            if (value.field == 'sofbackend__sof_work_meta__category_1') {
                                value.trad = _.result(_.find(subcategories1, function (obj) {
                                    return obj.name === value.value;
                                }), 'trad');
                            }
                            ;
                            if (value.field == 'sofbackend__sof_work_meta__style') {
                                value.trad = _.result(_.find(styles, function (obj) {
                                    return obj.name === value.value;
                                }), 'trad');
                            }
                            ;
                        });
                    });
                });
            });
            Q.all(_otherPromises).then(function (values) {
                _promise.resolve(dataJson);
            });
        });
        return _promise.promise;
    };
    MetadataService.prototype.createMetadata = function (post_id, meta_key, meta_value) {
        var _promise = Q.defer();
        this.db.query_db("INSERT INTO wp2_postmeta (meta_id, post_id, meta_key, meta_value) VALUES (NULL," + post_id + ",'" + meta_key + "','" + meta_value + "')").then(function (data) {
            _promise.resolve(data);
        });
        return _promise.promise;
    };
    MetadataService.prototype.createProductLike = function (productId) {
        var _promise = Q.defer();
        this.db.query_db("UPDATE wp2_postmeta SET meta_value = meta_value + 1 WHERE meta_key='_item_likes' AND post_id=" + productId).then(function (data) {
            _promise.resolve(data);
        });
        return _promise.promise;
    };
    MetadataService.prototype.getProductVisits = function (productId) {
        var _promise = Q.defer();
        this.db.query_db("SELECT id AS post_id, count AS visits FROM wp2_post_views WHERE id=" + productId).then(function (data) {
            _promise.resolve(data);
        });
        return _promise.promise;
    };
    MetadataService.prototype.createProductImage = function (productId, field, url) {
        var _promise = Q.defer();
        this.db.query_db("INSERT INTO wp2_postmeta (meta_id, post_id, meta_key, meta_value) VALUES (NULL," + productId + ",'" + field + "','" + url + "')").then(function (data) {
            _promise.resolve(data);
        });
        return _promise.promise;
    };
    MetadataService.prototype.createProductImageID = function (productId, field, postThumbnailID) {
        var _promise = Q.defer();
        this.db.query_db("INSERT INTO wp2_postmeta (meta_id, post_id, meta_key, meta_value) VALUES (NULL," + productId + ",'" + field + "','" + postThumbnailID + "')").then(function (data) {
            _promise.resolve(data);
        });
        return _promise.promise;
    };
    MetadataService.prototype.updateProductImage = function (productId, field, url) {
        var _promise = Q.defer();
        this.db.query_db("UPDATE wp2_postmeta SET meta_value=" + url + " WHERE post_id=" + productId + " AND meta_key=" + field).then(function (data) {
            _promise.resolve(data);
        });
        return _promise.promise;
    };
    return MetadataService;
})();
exports.MetadataService = MetadataService;
;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZXMvbWV0YWRhdGEvbWV0YWRhdGEuc2VydmljZS50cyJdLCJuYW1lcyI6WyJNZXRhZGF0YVNlcnZpY2UiLCJNZXRhZGF0YVNlcnZpY2UuY29uc3RydWN0b3IiLCJNZXRhZGF0YVNlcnZpY2UuZ2V0U3ViY2F0ZWdvcmllc0xpc3QiLCJNZXRhZGF0YVNlcnZpY2UuZ2V0U3ViY2F0ZWdvcmllczBMaXN0IiwiTWV0YWRhdGFTZXJ2aWNlLmdldFN1YmNhdGVnb3JpZXMxTGlzdCIsIk1ldGFkYXRhU2VydmljZS5nZXRTY2hvb2xzTGlzdCIsIk1ldGFkYXRhU2VydmljZS5nZXRTdHlsZXNMaXN0IiwiTWV0YWRhdGFTZXJ2aWNlLmdldFNleHNMaXN0IiwiTWV0YWRhdGFTZXJ2aWNlLmdldFNjaG9vbEJ5TWVtYmVySWQiLCJNZXRhZGF0YVNlcnZpY2UuZ2V0UHJvZHVjdE1ldGFkYXRhIiwiTWV0YWRhdGFTZXJ2aWNlLmNyZWF0ZVByb2R1Y3RMaWtlIiwiTWV0YWRhdGFTZXJ2aWNlLmdldFByb2R1Y3RWaXNpdHMiLCJNZXRhZGF0YVNlcnZpY2UuY3JlYXRlUHJvZHVjdEltYWdlIiwiTWV0YWRhdGFTZXJ2aWNlLnVwZGF0ZVByb2R1Y3RJbWFnZSJdLCJtYXBwaW5ncyI6IkFBQUEsa0RBQWtEO0FBQ2xELDREQUE0RDtBQUU1RCxJQUFPLENBQUMsV0FBVyxHQUFHLENBQUMsQ0FBQztBQUN4QixJQUFPLFVBQVUsV0FBVyxrQ0FBa0MsQ0FBQyxDQUFBO0FBRS9ELElBQUksQ0FBQyxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQztBQW9CMUIsSUFBYSxlQUFlO0lBQTVCQSxTQUFhQSxlQUFlQTtRQUNoQkMsT0FBRUEsR0FBR0EsVUFBVUEsQ0FBQ0EsT0FBT0EsQ0FBQ0E7SUE4U3BDQSxDQUFDQTtJQTVTR0QsOENBQW9CQSxHQUFwQkE7UUFBQUUsaUJBbUJDQTtRQWxCR0EsSUFBSUEsUUFBUUEsR0FBR0EsQ0FBQ0EsQ0FBQ0EsS0FBS0EsRUFBRUEsQ0FBQ0E7UUFF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QUVBLE9BQU9BLEVBQUVBLElBQUlBLEVBQUVBLFVBQVVBLEVBQUNBO1lBQ25EQSxFQUFDQSxFQUFFQSxFQUFFQSxDQUFDQSxFQUFFQSxNQUFNQSxFQUFFQSxDQUFDQSxFQUFFQSxJQUFJQSxFQUFFQSxVQUFVQSxFQUFFQSxJQUFJQSxFQUFFQSxPQUFPQSxFQUFDQTtZQUNuREEsRUFBQ0EsRUFBRUEsRUFBRUEsQ0FBQ0EsRUFBRUEsTUFBTUEsRUFBRUEsQ0FBQ0EsRUFBRUEsSUFBSUEsRUFBRUEsTUFBTUEsRUFBRUEsSUFBSUEsRUFBRUEsVUFBVUEsRUFBQ0E7WUFDbERBLEVBQUNBLEVBQUVBLEVBQUVBLENBQUNBLEVBQUVBLE1BQU1BLEVBQUVBLENBQUNBLEVBQUVBLElBQUlBLEVBQUVBLE1BQU1BLEVBQUVBLElBQUlBLEVBQUVBLEtBQUtBLEVBQUNBO1lBQzdDQSxFQUFDQSxFQUFFQSxFQUFFQSxDQUFDQSxFQUFFQSxNQUFNQSxFQUFFQSxDQUFDQSxFQUFFQSxJQUFJQSxFQUFFQSxPQUFPQSxFQUFFQSxJQUFJQSxFQUFFQSxNQUFNQSxFQUFDQTtZQUMvQ0EsRUFBQ0EsRUFBRUEsRUFBRUEsQ0FBQ0EsRUFBRUEsTUFBTUEsRUFBRUEsQ0FBQ0EsRUFBRUEsSUFBSUEsRUFBRUEsT0FBT0EsRUFBRUEsSUFBSUEsRUFBRUEsT0FBT0EsRUFBQ0E7WUFDaERBLEVBQUNBLEVBQUVBLEVBQUVBLENBQUNBLEVBQUVBLE1BQU1BLEVBQUVBLENBQUNBLEVBQUVBLElBQUlBLEVBQUVBLFVBQVVBLEVBQUVBLElBQUlBLEVBQUVBLFFBQVFBLEVBQUNBO1lBQ3BEQSxFQUFDQSxFQUFFQSxFQUFFQSxDQUFDQSxFQUFFQSxNQUFNQSxFQUFFQSxDQUFDQSxFQUFFQSxJQUFJQSxFQUFFQSxXQUFXQSxFQUFFQSxJQUFJQSxFQUFFQSxRQUFRQSxFQUFDQTtZQUNyREEsRUFBQ0EsRUFBRUEsRUFBRUEsRUFBRUEsRUFBRUEsTUFBTUEsRUFBRUEsQ0FBQ0EsRUFBRUEsSUFBSUEsRUFBRUEsWUFBWUEsRUFBRUEsSUFBSUEsRUFBRUEsVUFBVUEsRUFBQ0E7WUFDekRBLEVBQUNBLEVBQUVBLEVBQUVBLEVBQUVBLEVBQUVBLE1BQU1BLEVBQUVBLENBQUNBLEVBQUVBLElBQUlBLEVBQUVBLFFBQVFBLEVBQUVBLElBQUlBLEVBQUVBLE9BQU9BLEVBQUNBO1lBQ2xEQSxFQUFDQSxFQUFFQSxFQUFFQSxFQUFFQSxFQUFFQSxNQUFNQSxFQUFFQSxDQUFDQSxFQUFFQSxJQUFJQSxFQUFFQSxnQkFBZ0JBLEVBQUVBLElBQUlBLEVBQUVBLFVBQVVBLEVBQUNBO1lBQzdEQSxFQUFDQSxFQUFFQSxFQUFFQSxFQUFFQSxFQUFFQSxNQUFNQSxFQUFFQSxDQUFDQSxFQUFFQSxJQUFJQSxFQUFFQSxpQkFBaUJBLEVBQUVBLElBQUlBLEVBQUVBLFlBQVlBLEVBQUNBO1lBQ2hFQSxFQUFDQSxFQUFFQSxFQUFFQSxFQUFFQSxFQUFFQSxNQUFNQSxFQUFFQSxDQUFDQSxFQUFFQSxJQUFJQSxFQUFFQSxTQUFTQSxFQUFFQSxJQUFJQSxFQUFFQSxNQUFNQSxFQUFDQTtZQUNsREEsRUFBQ0EsRUFBRUEsRUFBRUEsRUFBRUEsRUFBRUEsTUFBTUEsRUFBRUEsQ0FBQ0EsRUFBRUEsSUFBSUEsRUFBRUEsY0FBY0EsRUFBRUEsSUFBSUEsRUFBRUEsVUFBVUEsRUFBQ0E7WUFDM0RBLEVBQUNBLEVBQUVBLEVBQUVBLEVBQUVBLEVBQUVBLE1BQU1BLEVBQUVBLENBQUNBLEVBQUVBLElBQUlBLEVBQUVBLGFBQWFBLEVBQUVBLElBQUlBLEVBQUVBLFNBQVNBLEVBQUNBO1lBQ3pEQSxFQUFDQSxFQUFFQSxFQUFFQSxFQUFFQSxFQUFFQSxNQUFNQSxFQUFFQSxDQUFDQSxFQUFFQSxJQUFJQSxFQUFFQSxtQkFBbUJBLEVBQUVBLElBQUlBLEVBQUVBLFdBQVdBLEVBQUNBO1lBQ2pFQSxFQUFDQSxFQUFFQSxFQUFFQSxFQUFFQSxFQUFFQSxNQUFNQSxFQUFFQSxDQUFDQSxFQUFFQSxJQUFJQSxFQUFFQSxXQUFXQSxFQUFFQSxJQUFJQSxFQUFFQSxRQUFRQSxFQUFDQTtZQUN0REEsRUFBQ0EsRUFBRUEsRUFBRUEsRUFBRUEsRUFBRUEsTUFBTUEsRUFBRUEsQ0FBQ0EsRUFBRUEsSUFBSUEsRUFBRUEsVUFBVUEsRUFBRUEsSUFBSUEsRUFBRUEsT0FBT0EsRUFBQ0E7WUFDcERBLEVBQUNBLEVBQUVBLEVBQUVBLEVBQUVBLEVBQUVBLE1BQU1BLEVBQUVBLENBQUNBLEVBQUVBLElBQUlBLEVBQUVBLGFBQWFBLEVBQUVBLElBQUlBLEVBQUVBLFNBQVNBLEVBQUNBO1lBQ3pEQSxFQUFDQSxFQUFFQSxFQUFFQSxFQUFFQSxFQUFFQSxNQUFNQSxFQUFFQSxDQUFDQSxFQUFFQSxJQUFJQSxFQUFFQSxhQUFhQSxFQUFFQSxJQUFJQSxFQUFFQSxVQUFVQSxFQUFDQTtZQUMxREEsRUFBQ0EsRUFBRUEsRUFBRUEsRUFBRUEsRUFBRUEsTUFBTUEsRUFBRUEsQ0FBQ0EsRUFBRUEsSUFBSUEsRUFBRUEsb0JBQW9CQSxFQUFFQSxJQUFJQSxFQUFFQSxnQkFBZ0JBLEVBQUNBO1lBQ3ZFQSxFQUFDQSxFQUFFQSxFQUFFQSxFQUFFQSxFQUFFQSxNQUFNQSxFQUFFQSxDQUFDQSxFQUFFQSxJQUFJQSxFQUFFQSxPQUFPQSxFQUFFQSxJQUFJQSxFQUFFQSxLQUFLQSxFQUFDQTtZQUMvQ0EsRUFBQ0EsRUFBRUEsRUFBRUEsRUFBRUEsRUFBRUEsTUFBTUEsRUFBRUEsQ0FBQ0EsRUFBRUEsSUFBSUEsRUFBRUEsWUFBWUEsRUFBRUEsSUFBSUEsRUFBRUEsUUFBUUEsRUFBQ0E7WUFDdkRBLEVBQUNBLEVBQUVBLEVBQUVBLEVBQUVBLEVBQUVBLE1BQU1BLEVBQUVBLENBQUNBLEVBQUVBLElBQUlBLEVBQUVBLFlBQVlBLEVBQUVBLElBQUlBLEVBQUVBLFFBQVFBLEVBQUNBO1lBQ3ZEQSxFQUFDQSxFQUFFQSxFQUFFQSxFQUFFQSxFQUFFQSxNQUFNQSxFQUFFQSxDQUFDQSxFQUFFQSxJQUFJQSxFQUFFQSxNQUFNQSxFQUFFQSxJQUFJQSxFQUFFQSxPQUFPQSxFQUFDQTtZQUNoREEsRUFBQ0EsRUFBRUEsRUFBRUEsRUFBRUEsRUFBRUEsTUFBTUEsRUFBRUEsQ0FBQ0EsRUFBRUEsSUFBSUEsRUFBRUEsT0FBT0EsRUFBRUEsSUFBSUEsRUFBRUEsS0FBS0EsRUFBQ0E7WUFDL0NBLEVBQUNBLEVBQUVBLEVBQUVBLEVBQUVBLEVBQUVBLE1BQU1BLEVBQUVBLENBQUNBLEVBQUVBLElBQUlBLEVBQUVBLGFBQWFBLEVBQUVBLElBQUlBLEVBQUVBLFNBQVNBLEVBQUNBO1lBQ3pEQSxFQUFDQSxFQUFFQSxFQUFFQSxFQUFFQSxFQUFFQSxNQUFNQSxFQUFFQSxDQUFDQSxFQUFFQSxJQUFJQSxFQUFFQSxlQUFlQSxFQUFFQSxJQUFJQSxFQUFFQSxRQUFRQSxFQUFDQTtZQUMxREEsRUFBQ0EsRUFBRUEsRUFBRUEsRUFBRUEsRUFBRUEsTUFBTUEsRUFBRUEsQ0FBQ0EsRUFBRUEsSUFBSUEsRUFBRUEsYUFBYUEsRUFBRUEsSUFBSUEsRUFBRUEsT0FBT0EsRUFBQ0E7WUFDdkRBLEVBQUNBLEVBQUVBLEVBQUVBLEVBQUVBLEVBQUVBLE1BQU1BLEVBQUVBLENBQUNBLEVBQUVBLElBQUlBLEVBQUVBLGFBQWFBLEVBQUVBLElBQUlBLEVBQUVBLFNBQVNBLEVBQUNBO1lBQ3pEQSxFQUFDQSxFQUFFQSxFQUFFQSxFQUFFQSxFQUFFQSxNQUFNQSxFQUFFQSxDQUFDQSxFQUFFQSxJQUFJQSxFQUFFQSxPQUFPQSxFQUFFQSxJQUFJQSxFQUFFQSxNQUFNQSxFQUFDQTtZQUNoREEsRUFBQ0EsRUFBRUEsRUFBRUEsRUFBRUEsRUFBRUEsTUFBTUEsRUFBRUEsQ0FBQ0EsRUFBRUEsSUFBSUEsRUFBRUEsYUFBYUEsRUFBRUEsSUFBSUEsRUFBRUEsU0FBU0EsRUFBQ0E7WUFDekRBLEVBQUNBLEVBQUVBLEVBQUVBLEVBQUVBLEVBQUVBLE1BQU1BLEVBQUVBLENBQUNBLEVBQUVBLElBQUlBLEVBQUVBLFlBQVlBLEVBQUVBLElBQUlBLEVBQUVBLFNBQVNBLEVBQUNBO1lBQ3hEQSxFQUFDQSxFQUFFQSxFQUFFQSxFQUFFQSxFQUFFQSxNQUFNQSxFQUFFQSxDQUFDQSxFQUFFQSxJQUFJQSxFQUFFQSxhQUFhQSxFQUFFQSxJQUFJQSxFQUFFQSxTQUFTQSxFQUFDQTtZQUN6REEsRUFBQ0EsRUFBRUEsRUFBRUEsRUFBRUEsRUFBRUEsTUFBTUEsRUFBRUEsQ0FBQ0EsRUFBRUEsSUFBSUEsRUFBRUEsY0FBY0EsRUFBRUEsSUFBSUEsRUFBRUEsVUFBVUEsRUFBQ0E7WUFDM0RBLEVBQUNBLEVBQUVBLEVBQUVBLEVBQUVBLEVBQUVBLE1BQU1BLEVBQUVBLENBQUNBLEVBQUVBLElBQUlBLEVBQUVBLGNBQWNBLEVBQUVBLElBQUlBLEVBQUVBLFVBQVVBLEVBQUNBO1lBQzNEQSxFQUFDQSxFQUFFQSxFQUFFQSxFQUFFQSxFQUFFQSxNQUFNQSxFQUFFQSxDQUFDQSxFQUFFQSxJQUFJQSxFQUFFQSxnQkFBZ0JBLEVBQUVBLElBQUlBLEVBQUVBLFdBQVdBLEVBQUNBO1lBQzlEQSxFQUFDQSxFQUFFQSxFQUFFQSxFQUFFQSxFQUFFQSxNQUFNQSxFQUFFQSxDQUFDQSxFQUFFQSxJQUFJQSxFQUFFQSxhQUFhQSxFQUFFQSxJQUFJQSxFQUFFQSxVQUFVQSxFQUFDQTtZQUMxREEsRUFBQ0EsRUFBRUEsRUFBRUEsRUFBRUEsRUFBRUEsTUFBTUEsRUFBRUEsQ0FBQ0EsRUFBRUEsSUFBSUEsRUFBRUEsY0FBY0EsRUFBRUEsSUFBSUEsRUFBRUEsV0FBV0EsRUFBQ0E7WUFDNURBLEVBQUNBLEVBQUVBLEVBQUVBLEVBQUVBLEVBQUVBLE1BQU1BLEVBQUVBLENBQUNBLEVBQUVBLElBQUlBLEVBQUVBLGFBQWFBLEVBQUVBLElBQUlBLEVBQUVBLFVBQVVBLEVBQUNBO1lBQzFEQSxFQUFDQSxFQUFFQSxFQUFFQSxFQUFFQSxFQUFFQSxNQUFNQSxFQUFFQSxDQUFDQSxFQUFFQSxJQUFJQSxFQUFFQSxVQUFVQSxFQUFFQSxJQUFJQSxFQUFFQSxPQUFPQSxFQUFDQTtZQUNwREEsRUFBQ0EsRUFBRUEsRUFBRUEsRUFBRUEsRUFBRUEsTUFBTUEsRUFBRUEsQ0FBQ0EsRUFBRUEsSUFBSUEsRUFBRUEsZ0JBQWdCQSxFQUFFQSxJQUFJQSxFQUFFQSxVQUFVQSxFQUFDQTtZQUM3REEsRUFBQ0EsRUFBRUEsRUFBRUEsRUFBRUEsRUFBRUEsTUFBTUEsRUFBRUEsQ0FBQ0EsRUFBRUEsSUFBSUEsRUFBRUEsZUFBZUEsRUFBRUEsSUFBSUEsRUFBRUEsVUFBVUEsRUFBQ0E7WUFDNURBLEVBQUNBLEVBQUVBLEVBQUVBLEVBQUVBLEVBQUVBLE1BQU1BLEVBQUVBLENBQUNBLEVBQUVBLElBQUlBLEVBQUVBLE9BQU9BLEVBQUVBLElBQUlBLEVBQUVBLE9BQU9BLEVBQUNBO1lBQ2pEQSxFQUFDQSxFQUFFQSxFQUFFQSxFQUFFQSxFQUFFQSxNQUFNQSxFQUFFQSxDQUFDQSxFQUFFQSxJQUFJQSxFQUFFQSxPQUFPQSxFQUFFQSxJQUFJQSxFQUFFQSxLQUFLQSxFQUFDQTtZQUMvQ0EsRUFBQ0EsRUFBRUEsRUFBRUEsRUFBRUEsRUFBRUEsTUFBTUEsRUFBRUEsQ0FBQ0EsRUFBRUEsSUFBSUEsRUFBRUEsZUFBZUEsRUFBRUEsSUFBSUEsRUFBRUEsV0FBV0EsRUFBQ0E7WUFDN0RBLEVBQUNBLEVBQUVBLEVBQUVBLEVBQUVBLEVBQUVBLE1BQU1BLEVBQUVBLENBQUNBLEVBQUVBLElBQUlBLEVBQUVBLGdCQUFnQkEsRUFBRUEsSUFBSUEsRUFBRUEsZUFBZUEsRUFBQ0E7WUFDbEVBLEVBQUNBLEVBQUVBLEVBQUVBLEVBQUVBLEVBQUVBLE1BQU1BLEVBQUVBLENBQUNBLEVBQUVBLElBQUlBLEVBQUVBLE9BQU9BLEVBQUVBLElBQUlBLEVBQUVBLFFBQVFBLEVBQUNBO1lBQ2xEQSxFQUFDQSxFQUFFQSxFQUFFQSxFQUFFQSxFQUFFQSxNQUFNQSxFQUFFQSxDQUFDQSxFQUFFQSxJQUFJQSxFQUFFQSxZQUFZQSxFQUFFQSxJQUFJQSxFQUFFQSxTQUFTQSxFQUFDQTtZQUN4REEsRUFBQ0EsRUFBRUEsRUFBRUEsRUFBRUEsRUFBRUEsTUFBTUEsRUFBRUEsQ0FBQ0EsRUFBRUEsSUFBSUEsRUFBRUEsU0FBU0EsRUFBRUEsSUFBSUEsRUFBRUEsT0FBT0EsRUFBQ0E7WUFDbkRBLEVBQUNBLEVBQUVBLEVBQUVBLEVBQUVBLEVBQUVBLE1BQU1BLEVBQUVBLENBQUNBLEVBQUVBLElBQUlBLEVBQUVBLGFBQWFBLEVBQUVBLElBQUlBLEVBQUVBLFNBQVNBLEVBQUNBO1lBQ3pEQSxFQUFDQSxFQUFFQSxFQUFFQSxFQUFFQSxFQUFFQSxNQUFNQSxFQUFFQSxDQUFDQSxFQUFFQSxJQUFJQSxFQUFFQSxPQUFPQSxFQUFFQSxJQUFJQSxFQUFFQSxNQUFNQSxFQUFDQTtZQUNoREEsRUFBQ0EsRUFBRUEsRUFBRUEsRUFBRUEsRUFBRUEsTUFBTUEsRUFBRUEsQ0FBQ0EsRUFBRUEsSUFBSUEsRUFBRUEsT0FBT0EsRUFBRUEsSUFBSUEsRUFBRUEsS0FBS0EsRUFBQ0E7WUFDL0NBLEVBQUNBLEVBQUVBLEVBQUVBLEVBQUVBLEVBQUVBLE1BQU1BLEVBQUVBLENBQUNBLEVBQUVBLElBQUlBLEVBQUVBLFlBQVlBLEVBQUVBLElBQUlBLEVBQUVBLFFBQVFBLEVBQUNBO1lBQ3ZEQSxFQUFDQSxFQUFFQSxFQUFFQSxFQUFFQSxFQUFFQSxNQUFNQSxFQUFFQSxDQUFDQSxFQUFFQSxJQUFJQSxFQUFFQSxRQUFRQSxFQUFFQSxJQUFJQSxFQUFFQSxNQUFNQSxFQUFDQTtZQUNqREEsRUFBQ0EsRUFBRUEsRUFBRUEsRUFBRUEsRUFBRUEsTUFBTUEsRUFBRUEsQ0FBQ0EsRUFBRUEsSUFBSUEsRUFBRUEsWUFBWUEsRUFBRUEsSUFBSUEsRUFBRUEsU0FBU0EsRUFBQ0E7WUFDeERBLEVBQUNBLEVBQUVBLEVBQUVBLEVBQUVBLEVBQUVBLE1BQU1BLEVBQUVBLENBQUNBLEVBQUVBLElBQUlBLEVBQUVBLGFBQWFBLEVBQUVBLElBQUlBLEVBQUVBLFVBQVVBLEVBQUNBO1lBQzFEQSxFQUFDQSxFQUFFQSxFQUFFQSxFQUFFQSxFQUFFQSxNQUFNQSxFQUFFQSxDQUFDQSxFQUFFQSxJQUFJQSxFQUFFQSxLQUFLQSxFQUFFQSxJQUFJQSxFQUFFQSxJQUFJQSxFQUFDQTtZQUM1Q0EsRUFBQ0EsRUFBRUEsRUFBRUEsRUFBRUEsRUFBRUEsTUFBTUEsRUFBRUEsQ0FBQ0EsRUFBRUEsSUFBSUEsRUFBRUEsT0FBT0EsRUFBRUEsSUFBSUEsRUFBRUEsSUFBSUEsRUFBQ0E7WUFDOUNBLEVBQUNBLEVBQUVBLEVBQUVBLEVBQUVBLEVBQUVBLE1BQU1BLEVBQUVBLENBQUNBLEVBQUVBLElBQUlBLEVBQUVBLEtBQUtBLEVBQUVBLElBQUlBLEVBQUVBLEtBQUtBLEVBQUNBO1lBQzdDQSxFQUFDQSxFQUFFQSxFQUFFQSxFQUFFQSxFQUFFQSxNQUFNQSxFQUFFQSxDQUFDQSxFQUFFQSxJQUFJQSxFQUFFQSxXQUFXQSxFQUFFQSxJQUFJQSxFQUFFQSxRQUFRQSxFQUFDQTtZQUN0REEsRUFBQ0EsRUFBRUEsRUFBRUEsRUFBRUEsRUFBRUEsTUFBTUEsRUFBRUEsQ0FBQ0EsRUFBRUEsSUFBSUEsRUFBRUEsVUFBVUEsRUFBRUEsSUFBSUEsRUFBRUEsYUFBYUEsRUFBQ0E7WUFDMURBLEVBQUNBLEVBQUVBLEVBQUVBLEVBQUVBLEVBQUVBLE1BQU1BLEVBQUVBLENBQUNBLEVBQUVBLElBQUlBLEVBQUVBLFlBQVlBLEVBQUVBLElBQUlBLEVBQUVBLFNBQVNBLEVBQUNBO1lBQ3hEQSxFQUFDQSxFQUFFQSxFQUFFQSxFQUFFQSxFQUFFQSxNQUFNQSxFQUFFQSxDQUFDQSxFQUFFQSxJQUFJQSxFQUFFQSxZQUFZQSxFQUFFQSxJQUFJQSxFQUFFQSxTQUFTQSxFQUFDQTtZQUN4REEsRUFBQ0EsRUFBRUEsRUFBRUEsRUFBRUEsRUFBRUEsTUFBTUEsRUFBRUEsQ0FBQ0EsRUFBRUEsSUFBSUEsRUFBRUEsVUFBVUEsRUFBRUEsSUFBSUEsRUFBRUEsU0FBU0EsRUFBQ0E7WUFDdERBLEVBQUNBLEVBQUVBLEVBQUVBLEVBQUVBLEVBQUVBLE1BQU1BLEVBQUVBLENBQUNBLEVBQUVBLElBQUlBLEVBQUVBLFNBQVNBLEVBQUVBLElBQUlBLEVBQUVBLE9BQU9BLEVBQUNBO1NBQ3REQSxDQUFDQTtRQUNGQSxZQUFZQSxDQUFDQSxPQUFPQSxDQUFDQSxjQUFjQSxDQUFDQSxDQUFDQTtRQUM3Q0EsQUFNUUE7Ozs7O1VBRE5BO1FBQ01BLE1BQU1BLENBQUNBLFlBQVlBLENBQUNBLE9BQU9BLENBQUNBO0lBQ2hDQSxDQUFDQTtJQUVESix3Q0FBY0EsR0FBZEE7UUFDSUssSUFBSUEsWUFBWUEsR0FBR0EsQ0FBQ0EsQ0FBQ0EsS0FBS0EsRUFBRUEsQ0FBQ0E7UUFDN0JBLElBQUlBLENBQUNBLEVBQUVBLENBQUNBLFFBQVFBLENBQUNBLGtFQUFrRUEsQ0FBQ0EsQ0FDL0VBLElBQUlBLENBQUNBLFVBQUNBLElBQUlBO1lBQ1BBLFlBQVlBLENBQUNBLE9BQU9BLENBQUNBLElBQUlBLENBQUNBLENBQUNBO1FBQy9CQSxDQUFDQSxDQUFDQSxDQUFBQTtRQUNOQSxNQUFNQSxDQUFDQSxZQUFZQSxDQUFDQSxPQUFPQSxDQUFDQTtJQUNoQ0EsQ0FBQ0E7SUFFREwsdUNBQWFBLEdBQWJBO1FBQ0lNLElBQUlBLFlBQVlBLEdBQUdBLENBQUNBLENBQUNBLEtBQUtBLEVBQUVBLENBQUNBO1FBRTdCQSxJQUFJQSxNQUFNQSxHQUFHQTtZQUNUQSxFQUFDQSxFQUFFQSxFQUFFQSxDQUFDQSxFQUFFQSxJQUFJQSxFQUFFQSxRQUFRQSxFQUFFQSxJQUFJQSxFQUFFQSxNQUFNQSxFQUFDQTtZQUNyQ0EsRUFBQ0EsRUFBRUEsRUFBRUEsQ0FBQ0EsRUFBRUEsSUFBSUEsRUFBRUEsUUFBUUEsRUFBRUEsSUFBSUEsRUFBRUEsT0FBT0EsRUFBQ0E7WUFDdENBLEVBQUNBLEVBQUVBLEVBQUVBLENBQUNBLEVBQUVBLElBQUlBLEVBQUVBLFVBQVVBLEVBQUVBLElBQUlBLEVBQUVBLE9BQU9BLEVBQUNBO1lBQ3hDQSxFQUFDQSxFQUFFQSxFQUFFQSxDQUFDQSxFQUFFQSxJQUFJQSxFQUFFQSxNQUFNQSxFQUFFQSxJQUFJQSxFQUFFQSxLQUFLQSxFQUFDQTtZQUNsQ0EsRUFBQ0EsRUFBRUEsRUFBRUEsQ0FBQ0EsRUFBRUEsSUFBSUEsRUFBRUEsUUFBUUEsRUFBRUEsSUFBSUEsRUFBRUEsT0FBT0EsRUFBQ0E7WUFDdENBLEVBQUNBLEVBQUVBLEVBQUVBLENBQUNBLEVBQUVBLElBQUlBLEVBQUVBLEtBQUtBLEVBQUVBLElBQUlBLEVBQUVBLEtBQUtBLEVBQUNBO1lBQ2pDQSxFQUFDQSxFQUFFQSxFQUFFQSxDQUFDQSxFQUFFQSxJQUFJQSxFQUFFQSxVQUFVQSxFQUFFQSxJQUFJQSxFQUFFQSxPQUFPQSxFQUFDQTtZQUN4Q0EsRUFBQ0EsRUFBRUEsRUFBRUEsQ0FBQ0EsRUFBRUEsSUFBSUEsRUFBRUEsU0FBU0EsRUFBRUEsSUFBSUEsRUFBRUEsT0FBT0EsRUFBQ0E7WUFDdkNBLEVBQUNBLEVBQUVBLEVBQUVBLENBQUNBLEVBQUVBLElBQUlBLEVBQUVBLFFBQVFBLEVBQUVBLElBQUlBLEVBQUVBLE9BQU9BLEVBQUNBO1lBQ3RDQSxFQUFDQSxFQUFFQSxFQUFFQSxFQUFFQSxFQUFFQSxJQUFJQSxFQUFFQSxVQUFVQSxFQUFFQSxJQUFJQSxFQUFFQSxRQUFRQSxFQUFDQTtZQUMxQ0EsRUFBQ0EsRUFBRUEsRUFBRUEsRUFBRUEsRUFBRUEsSUFBSUEsRUFBRUEsUUFBUUEsRUFBRUEsSUFBSUEsRUFBRUEsS0FBS0EsRUFBQ0E7WUFDckNBLEVBQUNBLEVBQUVBLEVBQUVBLEVBQUVBLEVBQUVBLElBQUlBLEVBQUVBLGVBQWVBLEVBQUVBLElBQUlBLEVBQUVBLFlBQVlBLEVBQUNBO1lBQ25EQSxFQUFDQSxFQUFFQSxFQUFFQSxFQUFFQSxFQUFFQSxJQUFJQSxFQUFFQSxVQUFVQSxFQUFFQSxJQUFJQSxFQUFFQSxVQUFVQSxFQUFDQTtZQUM1Q0EsRUFBQ0EsRUFBRUEsRUFBRUEsRUFBRUEsRUFBRUEsSUFBSUEsRUFBRUEsUUFBUUEsRUFBRUEsSUFBSUEsRUFBRUEsT0FBT0EsRUFBQ0E7WUFDdkNBLEVBQUNBLEVBQUVBLEVBQUVBLEVBQUVBLEVBQUVBLElBQUlBLEVBQUVBLFFBQVFBLEVBQUVBLElBQUlBLEVBQUVBLE9BQU9BLEVBQUNBO1lBQ3ZDQSxFQUFDQSxFQUFFQSxFQUFFQSxFQUFFQSxFQUFFQSxJQUFJQSxFQUFFQSxVQUFVQSxFQUFFQSxJQUFJQSxFQUFFQSxPQUFPQSxFQUFDQTtZQUN6Q0EsRUFBQ0EsRUFBRUEsRUFBRUEsRUFBRUEsRUFBRUEsSUFBSUEsRUFBRUEsTUFBTUEsRUFBRUEsSUFBSUEsRUFBRUEsS0FBS0EsRUFBQ0E7WUFDbkNBLEVBQUNBLEVBQUVBLEVBQUVBLEVBQUVBLEVBQUVBLElBQUlBLEVBQUVBLFFBQVFBLEVBQUVBLElBQUlBLEVBQUVBLE1BQU1BLEVBQUNBO1lBQ3RDQSxFQUFDQSxFQUFFQSxFQUFFQSxFQUFFQSxFQUFFQSxJQUFJQSxFQUFFQSxZQUFZQSxFQUFFQSxJQUFJQSxFQUFFQSxXQUFXQSxFQUFDQTtZQUMvQ0EsRUFBQ0EsRUFBRUEsRUFBRUEsRUFBRUEsRUFBRUEsSUFBSUEsRUFBRUEsUUFBUUEsRUFBRUEsSUFBSUEsRUFBRUEsT0FBT0EsRUFBQ0E7WUFDdkNBLEVBQUNBLEVBQUVBLEVBQUVBLEVBQUVBLEVBQUVBLElBQUlBLEVBQUVBLFFBQVFBLEVBQUVBLElBQUlBLEVBQUVBLFFBQVFBLEVBQUNBO1lBQ3hDQSxFQUFDQSxFQUFFQSxFQUFFQSxFQUFFQSxFQUFFQSxJQUFJQSxFQUFFQSxPQUFPQSxFQUFFQSxJQUFJQSxFQUFFQSxNQUFNQSxFQUFDQTtTQUN4Q0EsQ0FBQ0E7UUFDRkEsWUFBWUEsQ0FBQ0EsT0FBT0EsQ0FBQ0EsTUFBTUEsQ0FBQ0EsQ0FBQ0E7UUFDckNBLEFBTVFBOzs7OztVQUROQTtRQUNNQSxNQUFNQSxDQUFDQSxZQUFZQSxDQUFDQSxPQUFPQSxDQUFDQTtJQUNoQ0EsQ0FBQ0E7SUFFRE4scUNBQVdBLEdBQVhBO1FBQ0lPLElBQUlBLFlBQVlBLEdBQUdBLENBQUNBLENBQUNBLEtBQUtBLEVBQUVBLENBQUNBO1FBRTdCQSxJQUFJQSxJQUFJQSxHQUFHQTtZQUNQQSxFQUFDQSxFQUFFQSxFQUFFQSxDQUFDQSxFQUFFQSxJQUFJQSxFQUFFQSxNQUFNQSxFQUFFQSxJQUFJQSxFQUFFQSxLQUFLQSxFQUFDQTtZQUNsQ0EsRUFBQ0EsRUFBRUEsRUFBRUEsQ0FBQ0EsRUFBRUEsSUFBSUEs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QUNBO0lBRUxiLHNCQUFDQTtBQUFEQSxDQS9TQSxBQStTQ0EsSUFBQTtBQS9TWSx1QkFBZSxHQUFmLGVBK1NaLENBQUE7QUFBQSxDQUFDIiwiZmlsZSI6Im1vZHVsZXMvbWV0YWRhdGEvbWV0YWRhdGEuc2VydmljZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi90eXBpbmdzL3RzZC5kLnRzXCIgLz5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi9jb25uZWN0aW9uL2Nvbm5lY3Rpb24uc2VydmljZS50c1wiIC8+XG5cbmltcG9ydCBRID0gcmVxdWlyZShcInFcIik7XG5pbXBvcnQgY29ubmVjdGlvbiA9IHJlcXVpcmUoJy4uL2Nvbm5lY3Rpb24vY29ubmVjdGlvbi5zZXJ2aWNlJylcblxudmFyIF8gPSByZXF1aXJlKCdsb2Rhc2gnKTtcblxuZXhwb3J0IGludGVyZmFjZSBJTWV0YWRhdGFTZXJ2aWNlIHtcbiAgICAvLyBHRVRcbiAgICBnZXRTdWJjYXRlZ29yaWVzTGlzdCgpOiBRLklQcm9taXNlPHt9PjtcbiAgICBnZXRTdWJjYXRlZ29yaWVzMExpc3QoKTogUS5JUHJvbWlzZTx7fT47XG4gICAgZ2V0U3ViY2F0ZWdvcmllczFMaXN0KCk6IFEuSVByb21pc2U8e30+O1xuICAgIGdldFNjaG9vbHNMaXN0KCk6IFEuSVByb21pc2U8e30+O1xuICAgIGdldFN0eWxlc0xpc3QoKTogUS5JUHJvbWlzZTx7fT47XG4gICAgZ2V0U2V4c0xpc3QoKTogUS5JUHJvbWlzZTx7fT47XG4gICAgZ2V0U2Nob29sQnlNZW1iZXJJZChtZW1iZXJJZCk6IFEuSVByb21pc2U8e30+O1xuICAgIGdldFByb2R1Y3RNZXRhZGF0YShwcm9kdWN0SWQpOiBRLklQcm9taXNlPHt9PjtcbiAgICBnZXRQcm9kdWN0VmlzaXRzKHByb2R1Y3RJZCk6IFEuSVByb21pc2U8e30+O1xuXG4gICAgLy8gUE9TVFxuICAgIGNyZWF0ZVByb2R1Y3RMaWtlKHByb2R1Y3RJZCk6IFEuSVByb21pc2U8e30+O1xuICAgIGNyZWF0ZVByb2R1Y3RJbWFnZShwcm9kdWN0SWQsIGZpZWxkLCB2YWx1ZSk6IFEuSVByb21pc2U8e30+O1xufVxuXG5cbmV4cG9ydCBjbGFzcyBNZXRhZGF0YVNlcnZpY2UgaW1wbGVtZW50cyBJTWV0YWRhdGFTZXJ2aWNlIHtcbiAgICBwcml2YXRlIGRiID0gY29ubmVjdGlvbi5zZXJ2aWNlO1xuXG4gICAgZ2V0U3ViY2F0ZWdvcmllc0xpc3QoKTogUS5JUHJvbWlzZTx7fT4ge1xuICAgICAgICB2YXIgX3Byb21pc2UgPSBRLmRlZmVyKCk7XG5cbiAgICAgICAgdGhpcy5nZXRTdWJjYXRlZ29yaWVzMExpc3QoKVxuICAgICAgICAgICAgLnRoZW4oKHN1YmNhdDA6IGFueVtdKSA9PiB7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmdldFN1YmNhdGVnb3JpZXMxTGlzdCgpXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKChzdWJjYXQxOiBhbnlbXSkgPT4ge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIg4oCLX2dyb3VwZWRTdWJjYXRlZ29yaWVzID0gX+KAiy5ncm91cEJ5KHN1YmNhdDEsICdwYXJlbnQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YmNhdDAuZm9yRWFjaCgocGFyZW50Q2F0ZWdvcnkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRDYXRlZ29yeVsnY2hpbGRzJ10gPSBfZ3JvdXBlZFN1YmNhdGVnb3JpZXNbcGFyZW50Q2F0ZWdvcnlbJ2lkJ11dO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9wcm9taXNlLnJlc29sdmUoc3ViY2F0MCk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgIHJldHVybiBfcHJvbWlzZS5wcm9taXNlO1xuICAgIH1cblxuICAgIGdldFN1YmNhdGVnb3JpZXMwTGlzdCgpOiBRLklQcm9taXNlPHt9PiB7XG4gICAgICAgIHZhciBfbGlzdFByb21pc2UgPSBRLmRlZmVyKCk7XG5cbiAgICAgICAgdmFyIHN1YmNhdGVnb3JpZXMwID0gW1xuICAgICAgICAgICAge2lkOiAxLCBuYW1lOiAndG9wcycsIHRyYWQ6ICfjg4jjg4Pjg5fjgrknfSxcbiAgICAgICAgICAgIHtpZDogMiwgbmFtZTogJ2phY2tldF9vdXRlcicsIHRyYWQ6ICfjgrjjg6PjgrHjg4Pjg4gv44Ki44Km44K/44O8J30sXG4gICAgICAgICAgICB7aWQ6IDMsIG5hbWU6ICdwYW50cycsIHRyYWQ6ICfjg5Hjg7Pjg4QnfSxcbiAgICAgICAgICAgIHtpZDogNCwgbmFtZTogJ3NraXJ0JywgdHJhZDogJ+OCueOCq+ODvOODiCd9LFxuICAgICAgICAgICAge2lkOiA1LCBuYW1lOiAnb25lcGllY2UnLCB0cmFkOiAn44Ov44Oz44OU44O844K5L+ODieODrOOCuSd9LFxuICAgICAgICAgICAge2lkOiA2LCBuYW1lOiAnc2V0dXAnLCB0cmFkOiAn44K744OD44OI44Ki44OD44OXJ30sXG4gICAgICAgICAgICB7aWQ6IDcsIG5hbWU6ICd0b3RhbF9jb2RlJywgdHJhZDogJ+ODiOODvOOCv+ODq+OCs+ODvOODhyd9LFxuICAgICAgICAgICAge2lkOiA4LCBuYW1lOiAnc2hvZXMnLCB0cmFkOiAn44K344Ol44O844K6J30sXG4gICAgICAgICAgICB7aWQ6IDksIG5hbWU6ICdnb29kcycsIHRyYWQ6ICfjg5XjgqHjg4Pjgrfjg6fjg7PjgrDjg4PjgronfVxuICAgICAgICBdO1xuICAgICAgICBfbGlzdFByb21pc2UucmVzb2x2ZShzdWJjYXRlZ29yaWVzMCk7XG4vKlxuICAgICAgICB0aGlzLmRiLnF1ZXJ5X2RiKFwiU0VMRUNUIERJU1RJTkNUIG1ldGFfdmFsdWUgQVMgdmFsdWUgRlJPTSB3cDJfcG9zdG1ldGEgV0hFUkUgbWV0YV9rZXkgPSAnc29mYmFja2VuZF9fc29mX3dvcmtfbWV0YV9fY2F0ZWdvcnlfMCdcIilcbiAgICAgICAgICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgX2xpc3RQcm9taXNlLnJlc29sdmUoZGF0YSk7XG4gICAgICAgICAgICB9KVxuKi9cbiAgICAgICAgcmV0dXJuIF9saXN0UHJvbWlzZS5wcm9taXNlO1xuICAgIH1cblxuICAgIGdldFN1YmNhdGVnb3JpZXMxTGlzdCgpOiBRLklQcm9taXNlPHt9PiB7XG4gICAgICAgIHZhciBfbGlzdFByb21pc2UgPSBRLmRlZmVyKCk7XG5cbiAgICAgICAgdmFyIHN1YmNhdGVnb3JpZXMxID0gW1xuICAgICAgICAgICAge2lkOiAxLCBwYXJlbnQ6IDEsIG5hbWU6ICd0X3NoaXJ0JywgdHJhZDogJ1Tjgrfjg6Pjg4Qv44Kr44OD44OI44K944O8J30sXG4gICAgICAgICAgICB7aWQ6IDIsIHBhcmVudDogMSwgbmFtZTogJ3NoaXJ0JywgdHJhZDogJ+OCt+ODo+ODhC/jg5bjg6njgqbjgrknfSxcbiAgICAgICAgICAgIHtpZDogMywgcGFyZW50OiAxLCBuYW1lOiAncHJvc2hpcnQnLCB0cmFkOiAn44Od44Ot44K344Oj44OEJ30sXG4gICAgICAgICAgICB7aWQ6IDQsIHBhcmVudDogMSwgbmFtZTogJ2tuaXQnLCB0cmFkOiAn44OL44OD44OIL+OCu+ODvOOCv+ODvCd9LFxuICAgICAgICAgICAge2lkOiA1LCBwYXJlbnQ6IDEsIG5hbWU6ICd2ZXN0JywgdHJhZDogJ+ODmeOCueODiCd9LFxuICAgICAgICAgICAge2lkOiA2LCBwYXJlbnQ6IDEsIG5hbWU6ICdwYXJrYScsIHRyYWQ6ICfjg5Hjg7zjgqvjg7wnfSxcbiAgICAgICAgICAgIHtpZDogNywgcGFyZW50OiAxLCBuYW1lOiAnc3dlYXQnLCB0cmFkOiAn44K544Km44Kn44OD44OIJ30sXG4gICAgICAgICAgICB7aWQ6IDgsIHBhcmVudDogMSwgbmFtZTogJ2NhcmRpZ2FuJywgdHJhZDogJ+OCq+ODvOODh+OCo+OCrOODsyd9LFxuICAgICAgICAgICAge2lkOiA5LCBwYXJlbnQ6IDEsIG5hbWU6ICd0YW5rX3RvcHMnLCB0cmFkOiAn44K/44Oz44Kv44OI44OD44OXJ30sXG4gICAgICAgICAgICB7aWQ6IDEwLCBwYXJlbnQ6IDEsIG5hbWU6ICdvdGhlcl90b3BzJywgdHJhZDogJ+OBneOBruS7luOBruODiOODg+ODl+OCuSd9LFxuICAgICAgICAgICAge2lkOiAxMSwgcGFyZW50OiAyLCBuYW1lOiAnamFja2V0JywgdHJhZDogJ+OCuOODo+OCseODg+ODiCd9LFxuICAgICAgICAgICAge2lkOiAxMiwgcGFyZW50OiAyLCBuYW1lOiAnbGVhdGhlcl9qYWNrZXQnLCB0cmFkOiAn44Os44K244O844K444Oj44Kx44OD44OIJ30sXG4gICAgICAgICAgICB7aWQ6IDEzLCBwYXJlbnQ6IDIsIG5hbWU6ICdtaWxpdGFyeV9qYWNrZXQnLCB0cmFkOiAn44Of44Oq44K/44Oq44O844K444Oj44Kx44OD44OIJ30sXG4gICAgICAgICAgICB7aWQ6IDE0LCBwYXJlbnQ6IDIsIG5hbWU6ICdibG91c29uJywgdHJhZDogJ+ODluODq+OCvuODsyd9LFxuICAgICAgICAgICAge2lkOiAxNSwgcGFyZW50OiAyLCBuYW1lOiAnY2hlc3Rlcl9jb2F0JywgdHJhZDogJ+ODgeOCp+OCueOCv+ODvOOCs+ODvOODiCd9LFxuICAgICAgICAgICAge2lkOiAxNiwgcGFyZW50OiAyLCBuYW1lOiAndHJlbmNoX2NvYXQnLCB0cmFkOiAn44OI44Os44Oz44OB44Kz44O844OIJ30sXG4gICAgICAgICAgICB7aWQ6IDE3LCBwYXJlbnQ6IDIsIG5hbWU6ICdzdGFuZC1jb2xsYXJfY29hdCcsIHRyYWQ6ICfjgrnjg4bjg7Pjgqvjg6njg7zjgrPjg7zjg4gnfSxcbiAgICAgICAgICAgIHtpZDogMTgsIHBhcmVudDogMiwgbmFtZTogJ21vZHNfY29hdCcsIHRyYWQ6ICfjg6Ljg4PjgrrjgrPjg7zjg4gnfSxcbiAgICAgICAgICAgIHtpZDogMTksIHBhcmVudDogMiwgbmFtZTogJ3BlYV9jb2F0JywgdHJhZDogJ+ODlOODvOOCs+ODvOODiCd9LFxuICAgICAgICAgICAge2lkOiAyMCwgcGFyZW50OiAyLCBuYW1lOiAnZHVmZmxlX2NvYXQnLCB0cmFkOiAn44OA44OD44OV44Or44Kz44O844OIJ30sXG4gICAgICAgICAgICB7aWQ6IDIxLCBwYXJlbnQ6IDIsIG5hbWU6ICdkb3duX2phY2tldCcsIHRyYWQ6ICfjg4Djgqbjg7Pjgrjjg6PjgrHjg4Pjg4gnfSxcbiAgICAgICAgICAgIHtpZDogMjIsIHBhcmVudDogMiwgbmFtZTogJ290aGVyX2phY2tldF9vdXRlcicsIHRyYWQ6ICfjgZ3jga7ku5bjga7jgrjjg6PjgrHjg4Pjg4gv44Ki44Km44K/44O8J30sXG4gICAgICAgICAgICB7aWQ6IDIzLCBwYXJlbnQ6IDMsIG5hbWU6ICdwYW50cycsIHRyYWQ6ICfjg5Hjg7Pjg4QnfSxcbiAgICAgICAgICAgIHtpZDogMjQsIHBhcmVudDogMywgbmFtZTogJ3dpZGVfcGFudHMnLCB0cmFkOiAn44Ov44Kk44OJ44OR44Oz44OEJ30sXG4gICAgICAgICAgICB7aWQ6IDI1LCBwYXJlbnQ6IDMsIG5hbWU6ICdzbGltX3BhbnRzJywgdHJhZDogJ+OCueODquODoOODkeODs+ODhCd9LFxuICAgICAgICAgICAge2lkOiAyNiwgcGFyZW50OiAzLCBuYW1lOiAnc2xheCcsIHRyYWQ6ICfjgrnjg6njg4Pjgq/jgrknfSxcbiAgICAgICAgICAgIHtpZDogMjcsIHBhcmVudDogMywgbmFtZTogJ2RlbmltJywgdHJhZDogJ+ODh+ODi+ODoCd9LFxuICAgICAgICAgICAge2lkOiAyOCwgcGFyZW50OiAzLCBuYW1lOiAnc2hvcnRfcGFudHMnLCB0cmFkOiAn44K344On44O844OI44OR44Oz44OEJ30sXG4gICAgICAgICAgICB7aWQ6IDI5LCBwYXJlbnQ6IDMsIG5hbWU6ICdsZWF0aGVyX3BhbnRzJywgdHJhZDogJ+ODrOOCtuODvOODkeODs+ODhCd9LFxuICAgICAgICAgICAge2lkOiAzMCwgcGFyZW50OiAzLCBuYW1lOiAnY2hpbm9fcGFudHMnLCB0cmFkOiAn44OB44OO44OR44Oz44OEJ30sXG4gICAgICAgICAgICB7aWQ6IDMxLCBwYXJlbnQ6IDMsIG5hbWU6ICdvdGhlcl9wYW50cycsIHRyYWQ6ICfjgZ3jga7ku5bjga7jg5Hjg7Pjg4QnfSxcbiAgICAgICAgICAgIHtpZDogMzIsIHBhcmVudDogNCwgbmFtZTogJ3NraXJ0JywgdHJhZDogJ+OCueOCq+ODvOODiCd9LFxuICAgICAgICAgICAge2lkOiAzMywgcGFyZW50OiA0LCBuYW1lOiAndGlnaHRfc2tpcnQnLCB0cmFkOiAn44K/44Kk44OI44K544Kr44O844OIJ30sXG4gICAgICAgICAgICB7aWQ6IDM0LCBwYXJlbnQ6IDQsIG5hbWU6ICdsb25nX3NraXJ0JywgdHJhZDogJ+ODreODs+OCsOOCueOCq+ODvOODiCd9LFxuICAgICAgICAgICAge2lkOiAzNSwgcGFyZW50OiA0LCBuYW1lOiAnZmxhcmVfc2tpcnQnLCB0cmFkOiAn44OV44Os44Ki44K544Kr44O844OIJ30sXG4gICAgICAgICAgICB7aWQ6IDM2LCBwYXJlbnQ6IDQsIG5hbWU6ICdwZXBsdW1fc2tpcnQnLCB0cmFkOiAn44Oa44OX44Op44Og44K544Kr44O844OIJ30sXG4gICAgICAgICAgICB7aWQ6IDM3LCBwYXJlbnQ6IDQsIG5hbWU6ICdwbGVhdHNfc2tpcnQnLCB0cmFkOiAn44OX44Oq44O844OE44K544Kr44O844OIJ30sXG4gICAgICAgICAgICB7aWQ6IDM4LCBwYXJlbnQ6IDQsIG5hbWU6ICdjdWxvdHRlc19za2lydCcsIHRyYWQ6ICfjgq3jg6Xjg63jg4Pjg4jjgrnjgqvjg7zjg4gnfSxcbiAgICAgICAgICAgIHtpZDogMzksIHBhcmVudDogNCwgbmFtZTogJ2dvcmVkX3NraXJ0JywgdHJhZDogJ+OCtOOCouODvOODieOCueOCq+ODvOODiCd9LFxuICAgICAgICAgICAge2lkOiA0MCwgcGFyZW50OiA0LCBuYW1lOiAndGllcmVkX3NraXJ0JywgdHJhZDogJ+ODhuOCo+OCouODvOODieOCueOCq+ODvOODiCd9LFxuICAgICAgICAgICAge2lkOiA0MSwgcGFyZW50OiA0LCBuYW1lOiAnb3RoZXJfc2tpcnQnLCB0cmFkOiAn44Gd44Gu5LuW44Gu44K544Kr44O844OIJ30sXG4gICAgICAgICAgICB7aWQ6IDQyLCBwYXJlbnQ6IDUsIG5hbWU6ICdvbmVwaWVjZScsIHRyYWQ6ICfjg6/jg7Pjg5Tjg7zjgrknfSxcbiAgICAgICAgICAgIHtpZDogNDMsIHBhcmVudDogNSwgbmFtZTogJ3NoaXJ0X29uZXBpZWNlJywgdHJhZDogJ+OCt+ODo+ODhOODr+ODs+ODlOODvOOCuSd9LFxuICAgICAgICAgICAge2lkOiA0NCwgcGFyZW50OiA1LCBuYW1lOiAnbWF4aV9vbmVwaWVjZScsIHRyYWQ6ICfjg57jgq3jgrfjg6/jg7Pjg5Tjg7zjgrknfSxcbiAgICAgICAgICAgIHtpZDogNDUsIHBhcmVudDogNSwgbmFtZTogJ3R1bmljJywgdHJhZDogJ+ODgeODpeODi+ODg+OCryd9LFxuICAgICAgICAgICAge2lkOiA0NiwgcGFyZW50OiA1LCBuYW1lOiAnZHJlc3MnLCB0cmFkOiAn44OJ44Os44K5J30sXG4gICAgICAgICAgICB7aWQ6IDQ3LCBwYXJlbnQ6IDUsIG5hbWU6ICd3ZWRkaW5nX2RyZXNzJywgdHJhZDogJ+OCpuOCp+ODh+OCo+ODs+OCsOODieODrOOCuSd9LFxuICAgICAgICAgICAge2lkOiA0OCwgcGFyZW50OiA1LCBuYW1lOiAnb3RoZXJfb25lcGllY2UnLCB0cmFkOiAn44Gd44Gu5LuW44Gu44Ov44Oz44OU44O844K5L+ODieODrOOCuSd9LFxuICAgICAgICAgICAge2lkOiA0OSwgcGFyZW50OiA2LCBuYW1lOiAnc2V0dXAnLCB0cmFkOiAn44K744OD44OI44Ki44OD44OXJ30sXG4gICAgICAgICAgICB7aWQ6IDUwLCBwYXJlbnQ6IDcsIG5hbWU6ICd0b3RhbF9jb2RlJywgdHJhZDogJ+ODiOODvOOCv+ODq+OCs+ODvOODhyd9LFxuICAgICAgICAgICAge2lkOiA1MSwgcGFyZW50OiA4LCBuYW1lOiAnc25lYWtlcicsIHRyYWQ6ICfjgrnjg4vjg7zjgqvjg7wnfSxcbiAgICAgICAgICAgIHtpZDogNTIsIHBhcmVudDogOCwgbmFtZTogJ2RyZXNzX3Nob2VzJywgdHJhZDogJ+ODieODrOOCueOCt+ODpeODvOOCuid9LFxuICAgICAgICAgICAge2lkOiA1MywgcGFyZW50OiA4LCBuYW1lOiAncHVtcHMnLCB0cmFkOiAn44OR44Oz44OX44K5J30sXG4gICAgICAgICAgICB7aWQ6IDU0LCBwYXJlbnQ6IDgsIG5hbWU6ICdib290cycsIHRyYWQ6ICfjg5bjg7zjg4QnfSxcbiAgICAgICAgICAgIHtpZDogNTUsIHBhcmVudDogOCwgbmFtZTogJ2xvbmdfYm9vdHMnLCB0cmFkOiAn44Ot44Oz44Kw44OW44O844OEJ30sXG4gICAgICAgICAgICB7aWQ6IDU2LCBwYXJlbnQ6IDgsIG5hbWU6ICdzYW5kYWwnLCB0cmFkOiAn44K144Oz44OA44OrJ30sXG4gICAgICAgICAgICB7aWQ6IDU3LCBwYXJlbnQ6IDgsIG5hbWU6ICdyYWluX3Nob2VzJywgdHJhZDogJ+ODrOOCpOODs+OCt+ODpeODvOOCuid9LFxuICAgICAgICAgICAge2lkOiA1OCwgcGFyZW50OiA4LCBuYW1lOiAnb3RoZXJfc2hvZXMnLCB0cmFkOiAn44Gd44Gu5LuW44Gu44K344Ol44O844K6J30sXG4gICAgICAgICAgICB7aWQ6IDU5LCBwYXJlbnQ6IDksIG5hbWU6ICdoYXQnLCB0cmFkOiAn5bi95a2QJ30sXG4gICAgICAgICAgICB7aWQ6IDYwLCBwYXJlbnQ6IDksIG5hbWU6ICd3YXRjaCcsIHRyYWQ6ICfmmYLoqIgnfSxcbiAgICAgICAgICAgIHtpZDogNjEsIHBhcmVudDogOSwgbmFtZTogJ2JhZycsIHRyYWQ6ICfjg5Djg4PjgrAnfSxcbiAgICAgICAgICAgIHtpZDogNjIsIHBhcmVudDogOSwgbmFtZTogJ3RvdGVzX2JhZycsIHRyYWQ6ICfjg4jjg7zjg4jjg5Djg4PjgrAnfSxcbiAgICAgICAgICAgIHtpZDogNjMsIHBhcmVudDogOSwgbmFtZTogJ2JhY2twYWNrJywgdHJhZDogJ+ODkOODg+OCr+ODkeODg+OCry/jg6rjg6Xjg4Pjgq8nfSxcbiAgICAgICAgICAgIHtpZDogNjQsIHBhcmVudDogOSwgbmFtZTogJ2Jvc3Rvbl9iYWcnLCB0cmFkOiAn44Oc44K544OI44Oz44OQ44OD44KwJ30sXG4gICAgICAgICAgICB7aWQ6IDY1LCBwYXJlbnQ6IDksIG5hbWU6ICdjbHV0Y2hfYmFnJywgdHJhZDogJ+OCr+ODqeODg+ODgeODkOODg+OCsCd9LFxuICAgICAgICAgICAge2lkOiA2NiwgcGFyZW50OiA5LCBuYW1lOiAnd2VzdF9iYWcnLCB0cmFkOiAn44Km44Ko44K544OI44OQ44OD44KwJ30sXG4gICAgICAgICAgICB7aWQ6IDY3LCBwYXJlbnQ6IDksIG5hbWU6ICdqZXdlbHJ5JywgdHJhZDogJ+OCuOODpeOCqOODquODvCd9XG4gICAgICAgIF07XG4gICAgICAgIF9saXN0UHJvbWlzZS5yZXNvbHZlKHN1YmNhdGVnb3JpZXMxKTtcbi8qXG4gICAgICAgIHRoaXMuZGIucXVlcnlfZGIoXCJTRUxFQ1QgRElTVElOQ1QgbWV0YV92YWx1ZSBBUyB2YWx1ZSBGUk9NIHdwMl9wb3N0bWV0YSBXSEVSRSBtZXRhX2tleSA9ICdzb2ZiYWNrZW5kX19zb2Zfd29ya19tZXRhX19jYXRlZ29yeV8xJ1wiKVxuICAgICAgICAgICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICBfbGlzdFByb21pc2UucmVzb2x2ZShkYXRhKTtcbiAgICAgICAgICAgIH0pXG4qL1xuICAgICAgICByZXR1cm4gX2xpc3RQcm9taXNlLnByb21pc2U7XG4gICAgfVxuXG4gICAgZ2V0U2Nob29sc0xpc3QoKTogUS5JUHJvbWlzZTx7fT4ge1xuICAgICAgICB2YXIgX2xpc3RQcm9taXNlID0gUS5kZWZlcigpO1xuICAgICAgICB0aGlzLmRiLnF1ZXJ5X2RiKFwiU0VMRUNUIERJU1RJTkNUIHZhbHVlIEZST00gd3AyX2JwX3hwcm9maWxlX2RhdGEgV0hFUkUgZmllbGRfaWQ9NFwiKVxuICAgICAgICAgICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICBfbGlzdFByb21pc2UucmVzb2x2ZShkYXRhKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIHJldHVybiBfbGlzdFByb21pc2UucHJvbWlzZTtcbiAgICB9XG5cbiAgICBnZXRTdHlsZXNMaXN0KCk6IFEuSVByb21pc2U8e30+IHtcbiAgICAgICAgdmFyIF9saXN0UHJvbWlzZSA9IFEuZGVmZXIoKTtcblxuICAgICAgICB2YXIgc3R5bGVzID0gW1xuICAgICAgICAgICAge2lkOiAxLCBuYW1lOiBcInNpbXBsZVwiLCB0cmFkOiBcIuOCt+ODs+ODl+ODq1wifSxcbiAgICAgICAgICAgIHtpZDogMiwgbmFtZTogXCJjYXN1YWxcIiwgdHJhZDogXCLjgqvjgrjjg6XjgqLjg6tcIn0sXG4gICAgICAgICAgICB7aWQ6IDMsIG5hbWU6IFwiZmVtaW5pbmVcIiwgdHJhZDogXCLjg5Xjgqfjg5/jg4vjg7NcIn0sXG4gICAgICAgICAgICB7aWQ6IDQsIG5hbWU6IFwibW9kZVwiLCB0cmFkOiBcIuODouODvOODiVwifSxcbiAgICAgICAgICAgIHtpZDogNSwgbmFtZTogXCJzdHJlZXRcIiwgdHJhZDogXCLjgrnjg4jjg6rjg7zjg4hcIn0sXG4gICAgICAgICAgICB7aWQ6IDYsIG5hbWU6IFwiYXJ0XCIsIHRyYWQ6IFwi44Ki44O844OIXCJ9LFxuICAgICAgICAgICAge2lkOiA3LCBuYW1lOiBcImVsZWdhbmNlXCIsIHRyYWQ6IFwi44Ko44Os44Ks44Oz44K5XCJ9LFxuICAgICAgICAgICAge2lkOiA4LCBuYW1lOiBcImNsYXNzaWNcIiwgdHJhZDogXCLjgq/jg6njgrfjg4Pjgq9cIn0sXG4gICAgICAgICAgICB7aWQ6IDksIG5hbWU6IFwic3BvcnR5XCIsIHRyYWQ6IFwi44K544Od44O844OG44KjXCJ9LFxuICAgICAgICAgICAge2lkOiAxMCwgbmFtZTogXCJvcmllbnRhbFwiLCB0cmFkOiBcIuOCquODquOCqOODs+OCv+ODq1wifSxcbiAgICAgICAgICAgIHtpZDogMTEsIG5hbWU6IFwiZGVjb3JhXCIsIHRyYWQ6IFwi44OH44Kz44OpXCJ9LFxuICAgICAgICAgICAge2lkOiAxMiwgbmFtZTogXCJoaXBweV9jb3VudHJ5XCIsIHRyYWQ6IFwi44OS44OD44OU44O8L+OCq+ODs+ODiOODquODvFwifSxcbiAgICAgICAgICAgIHtpZDogMTMsIG5hbWU6IFwieF9nZW5kZXJcIiwgdHJhZDogXCLjgq/jg63jgrnjgrjjgqfjg7Pjg4Djg7xcIn0sXG4gICAgICAgICAgICB7aWQ6IDE0LCBuYW1lOiBcIm1hbmlzaFwiLCB0cmFkOiBcIuODnuODi+ODg+OCt+ODpVwifSxcbiAgICAgICAgICAgIHtpZDogMTUsIG5hbWU6IFwicHJlcHB5XCIsIHRyYWQ6IFwi44OV44Os44OD44OU44O8XCJ9LFxuICAgICAgICAgICAge2lkOiAxNiwgbmFtZTogXCJtaWxpdGFyeVwiLCB0cmFkOiBcIuODn+ODquOCv+ODquODvFwifSxcbiAgICAgICAgICAgIHtpZDogMTcsIG5hbWU6IFwicm9ja1wiLCB0cmFkOiBcIuODreODg+OCr1wifSxcbiAgICAgICAgICAgIHtpZDogMTgsIG5hbWU6IFwibG9saXRhXCIsIHRyYWQ6IFwi44Ot44Oq44O844K/XCJ9LFxuICAgICAgICAgICAge2lkOiAxOSwgbmFtZTogXCJzZXh5X2RhbmR5XCIsIHRyYWQ6IFwi44K744Kv44K344KjL+ODgOODs+ODh+OCo1wifSxcbiAgICAgICAgICAgIHtpZDogMjAsIG5hbWU6IFwiZXRobmljXCIsIHRyYWQ6IFwi44Ko44K544OL44OD44KvXCJ9LFxuICAgICAgICAgICAge2lkOiAyMSwgbmFtZTogXCJmdXR1cmVcIiwgdHJhZDogXCLjg5Xjg6Xjg7zjg4Hjg6Pjg7xcIn0sXG4gICAgICAgICAgICB7aWQ6IDIyLCBuYW1lOiBcIm90aGVyXCIsIHRyYWQ6IFwi6Kmy5b2T44Gq44GXXCJ9XG4gICAgICAgIF07XG4gICAgICAgIF9saXN0UHJvbWlzZS5yZXNvbHZlKHN0eWxlcyk7XG4vKlxuICAgICAgICB0aGlzLmRiLnF1ZXJ5X2RiKFwiU0VMRUNUIERJU1RJTkNUIG1ldGFfdmFsdWUgQVMgdmFsdWUgRlJPTSB3cDJfcG9zdG1ldGEgV0hFUkUgbWV0YV9rZXkgPSAnc29mYmFja2VuZF9fc29mX3dvcmtfbWV0YV9fc3R5bGUnXCIpXG4gICAgICAgICAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgIF9saXN0UHJvbWlzZS5yZXNvbHZlKGRhdGEpO1xuICAgICAgICAgICAgfSlcbiovXG4gICAgICAgIHJldHVybiBfbGlzdFByb21pc2UucHJvbWlzZTtcbiAgICB9XG5cbiAgICBnZXRTZXhzTGlzdCgpOiBRLklQcm9taXNlPHt9PiB7XG4gICAgICAgIHZhciBfbGlzdFByb21pc2UgPSBRLmRlZmVyKCk7XG5cbiAgICAgICAgdmFyIHNleHMgPSBbXG4gICAgICAgICAgICB7aWQ6IDEsIG5hbWU6IFwibWVuc1wiLCB0cmFkOiBcIk1FTlwifSxcbiAgICAgICAgICAgIHtpZDogMiwgbmFtZTogXCJ3b21lbnNcIiwgdHJhZDogXCJXT01FTlwifSxcbiAgICAgICAgICAgIHtpZDogMywgbmFtZTogXCJ1bmlzZXhcIiwgdHJhZDogXCJVTklTRVhcIn1cbiAgICAgICAgXTtcbiAgICAgICAgX2xpc3RQcm9taXNlLnJlc29sdmUoc2V4cyk7XG5cbiAgICAgICAgcmV0dXJuIF9saXN0UHJvbWlzZS5wcm9taXNlO1xuICAgIH1cblxuICAgIGdldFNjaG9vbEJ5TWVtYmVySWQobWVtYmVySWQpOiBRLklQcm9taXNlPHt9PiB7XG4gICAgICAgIHZhciBfcHJvbWlzZSA9IFEuZGVmZXIoKTtcbiAgICAgICAgdGhpcy5kYi5xdWVyeV9kYihcIlNFTEVDVCB2YWx1ZSBGUk9NIHdwMl9icF94cHJvZmlsZV9kYXRhIFdIRVJFIGZpZWxkX2lkPTQgQU5EIHVzZXJfaWQ9XCIgKyBtZW1iZXJJZClcbiAgICAgICAgICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgX3Byb21pc2UucmVzb2x2ZShkYXRhKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIHJldHVybiBfcHJvbWlzZS5wcm9taXNlO1xuICAgIH1cblxuICAgIGdldFByb2R1Y3RNZXRhZGF0YShwcm9kdWN0SWQpOiBRLklQcm9taXNlPHt9PiB7XG4gICAgICAgIHZhciBfcHJvbWlzZSA9IFEuZGVmZXIoKTtcblxuICAgICAgICB2YXIgZ2V0TWV0YWRhdGEgPSBRLmRlZmVyKCk7XG4gICAgICAgIHZhciBnZXRTdWJjYXRlZ29yaWVzMCA9IFEuZGVmZXIoKTtcbiAgICAgICAgdmFyIGdldFN1YmNhdGVnb3JpZXMxID0gUS5kZWZlcigpO1xuICAgICAgICB2YXIgZ2V0U3R5bGVzID0gUS5kZWZlcigpO1xuICAgICAgICB2YXIgX290aGVyUHJvbWlzZXMgPSBbZ2V0TWV0YWRhdGEucHJvbWlzZSwgZ2V0U3ViY2F0ZWdvcmllczAucHJvbWlzZSwgZ2V0U3ViY2F0ZWdvcmllczEucHJvbWlzZSwgZ2V0U3R5bGVzLnByb21pc2VdO1xuXG4gICAgICAgIHZhciBxdWVyeSA9IFwiKFNFTEVDVCBBLm1ldGFfa2V5IEFTIGZpZWxkLCBBLm1ldGFfdmFsdWUgQVMgdmFsdWUgXCIgK1xuICAgICAgICAgICAgICAgICAgICBcIkZST00gd3AyX3Bvc3RtZXRhIEEgXCIgK1xuICAgICAgICAgICAgICAgICAgICBcIldIRVJFIEEucG9zdF9pZD1cIiArIHByb2R1Y3RJZCArIFwiIEFORCBBLm1ldGFfa2V5IDw+ICd2aXNpdCcpIFwiICtcbiAgICAgICAgICAgICAgICAgICAgXCJVTklPTiBcIiArXG4gICAgICAgICAgICAgICAgICAgIFwiKFNFTEVDVCBCLm1ldGFfa2V5IEFTIGZpZWxkLCBDT1VOVChESVNUSU5DVCBCLm1ldGFfdmFsdWUpIEFTIHZhbHVlIFwiICtcbiAgICAgICAgICAgICAgICAgICAgXCJGUk9NIHdwMl9wb3N0bWV0YSBCIFwiICtcbiAgICAgICAgICAgICAgICAgICAgXCJXSEVSRSBCLm1ldGFfa2V5ID0gJ3Zpc2l0JyBBTkQgQi5wb3N0X2lkPVwiICsgcHJvZHVjdElkICsgXCIpXCI7XG4gICAgICAgIHRoaXMuZGIucXVlcnlfZGIocXVlcnkpXG4gICAgICAgICAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBkYXRhSnNvbiA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZGF0YSkpO1xuICAgICAgICAgICAgICAgIGdldE1ldGFkYXRhLnJlc29sdmUoZGF0YSk7XG5cbiAgICAgICAgICAgICAgICAvLyBnZXQgc3ViY2F0ZWdvcmllczAgdHJhbnNsYXRpb25zXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRTdWJjYXRlZ29yaWVzMExpc3QoKVxuICAgICAgICAgICAgICAgICAgICAudGhlbigoc3ViY2F0ZWdvcmllczApID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldFN1YmNhdGVnb3JpZXMwLnJlc29sdmUoZGF0YSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGdldCBzdWJjYXRlZ29yaWVzMSB0cmFuc2xhdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0U3ViY2F0ZWdvcmllczFMaXN0KClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGhlbigoc3ViY2F0ZWdvcmllczEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0U3ViY2F0ZWdvcmllczEucmVzb2x2ZShkYXRhKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBnZXQgc3R5bGVzIHRyYW5zbGF0aW9uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdldFN0eWxlc0xpc3QoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHN0eWxlcykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldFN0eWxlcy5yZXNvbHZlKGRhdGEpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcG9wdWxhdGUgdHJhbnNsYXRpb25zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5mb3JFYWNoKGRhdGFKc29uLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJyZWNvcmRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5maWVsZCA9PSAnc29mYmFja2VuZF9fc29mX3dvcmtfbWV0YV9fY2F0ZWdvcnlfMCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLnRyYWQgPSBfLnJlc3VsdChfLmZpbmQoc3ViY2F0ZWdvcmllczAsIGZ1bmN0aW9uKG9iaikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmoubmFtZSA9PT0gdmFsdWUudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSwgJ3RyYWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUuZmllbGQgPT0gJ3NvZmJhY2tlbmRfX3NvZl93b3JrX21ldGFfX2NhdGVnb3J5XzEnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS50cmFkID0gXy5yZXN1bHQoXy5maW5kKHN1YmNhdGVnb3JpZXMxLCBmdW5jdGlvbihvYmopIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqLm5hbWUgPT09IHZhbHVlLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksICd0cmFkJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmZpZWxkID09ICdzb2ZiYWNrZW5kX19zb2Zfd29ya19tZXRhX19zdHlsZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLnRyYWQgPSBfLnJlc3VsdChfLmZpbmQoc3R5bGVzLCBmdW5jdGlvbihvYmopIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqLm5hbWUgPT09IHZhbHVlLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksICd0cmFkJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgUS5hbGwoX290aGVyUHJvbWlzZXMpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbigodmFsdWVzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3Byb21pc2UucmVzb2x2ZShkYXRhSnNvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIHJldHVybiBfcHJvbWlzZS5wcm9taXNlO1xuICAgIH1cblxuICAgIGNyZWF0ZVByb2R1Y3RMaWtlKHByb2R1Y3RJZCk6IFEuSVByb21pc2U8e30+IHtcbiAgICAgICAgdmFyIF9wcm9taXNlID0gUS5kZWZlcigpO1xuICAgICAgICB0aGlzLmRiLnF1ZXJ5X2RiKFwiVVBEQVRFIHdwMl9wb3N0bWV0YSBTRVQgbWV0YV92YWx1ZSA9IG1ldGFfdmFsdWUgKyAxIFdIRVJFIG1ldGFfa2V5PSdfaXRlbV9saWtlcycgQU5EIHBvc3RfaWQ9XCIgKyBwcm9kdWN0SWQpXG4gICAgICAgICAgICAudGhlbigoZGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgIF9wcm9taXNlLnJlc29sdmUoZGF0YSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICByZXR1cm4gX3Byb21pc2UucHJvbWlzZTtcbiAgICB9XG5cbiAgICBnZXRQcm9kdWN0VmlzaXRzKHByb2R1Y3RJZCk6IFEuSVByb21pc2U8e30+IHtcbiAgICAgICAgdmFyIF9wcm9taXNlID0gUS5kZWZlcigpO1xuICAgICAgICB0aGlzLmRiLnF1ZXJ5X2RiKFwiU0VMRUNUIGlkIEFTIHBvc3RfaWQsIGNvdW50IEFTIHZpc2l0cyBGUk9NIHdwMl9wb3N0X3ZpZXdzIFdIRVJFIGlkPVwiICsgcHJvZHVjdElkKVxuICAgICAgICAgICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICBfcHJvbWlzZS5yZXNvbHZlKGRhdGEpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgcmV0dXJuIF9wcm9taXNlLnByb21pc2U7XG4gICAgfVxuXG4gICAgY3JlYXRlUHJvZHVjdEltYWdlKHByb2R1Y3RJZCwgZmllbGQsIHVybCk6IFEuSVByb21pc2U8e30+IHtcbiAgICAgICAgdmFyIF9wcm9taXNlID0gUS5kZWZlcigpO1xuICAgICAgICB0aGlzLmRiLnF1ZXJ5X2RiKFwiSU5TRVJUIElOVE8gd3AyX3Bvc3RtZXRhIChtZXRhX2lkLCBwb3N0X2lkLCBtZXRhX2tleSwgbWV0YV92YWx1ZSkgVkFMVUVTIChOVUxMLFwiICsgcHJvZHVjdElkICsgXCIsJ1wiICsgZmllbGQgKyBcIicsJ1wiICsgdXJsICsgXCInKVwiKVxuICAgICAgICAgICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICBfcHJvbWlzZS5yZXNvbHZlKGRhdGEpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgcmV0dXJuIF9wcm9taXNlLnByb21pc2U7XG4gICAgfVxuXG4gICAgdXBkYXRlUHJvZHVjdEltYWdlKHByb2R1Y3RJZCwgZmllbGQsIHVybCk6IFEuSVByb21pc2U8e30+IHtcbiAgICAgICAgdmFyIF9wcm9taXNlID0gUS5kZWZlcigpO1xuICAgICAgICB0aGlzLmRiLnF1ZXJ5X2RiKFwiVVBEQVRFIHdwMl9wb3N0bWV0YSBTRVQgbWV0YV92YWx1ZT1cIiArIHVybCArIFwiIFdIRVJFIHBvc3RfaWQ9XCIgKyBwcm9kdWN0SWQgKyBcIiBBTkQgbWV0YV9rZXk9XCIgKyBmaWVsZClcbiAgICAgICAgICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgX3Byb21pc2UucmVzb2x2ZShkYXRhKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIHJldHVybiBfcHJvbWlzZS5wcm9taXNlO1xuICAgIH1cblxufTtcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==