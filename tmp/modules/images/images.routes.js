'use strict';
///<reference path="../../../typings/tsd.d.ts" />
var service = require('./images.service');
var Joi = require('joi');
var ImagesService = new service.ImagesService();
var _prefix = '/images';
var images = [
    {
        method: 'POST',
        path: _prefix + '/upload',
        handler: function (request, reply) {
            ImagesService.uploadImage(request.payload.file, request.payload.productId, request.payload.field).then(function (data) {
                reply(data);
            });
        },
        config: {
            validate: {
                query: {
                    file: Joi.string(),
                    productId: Joi.number().integer(),
                    field: Joi.string(),
                }
            },
            notes: [
                "Field values: 'sofbackend__sof_work_meta__postImage'/'sofbackend__sof_work_meta__subImageX' (X = 1-9)",
                "File values: -base64 data-"
            ],
            description: 'Upload image to cloud server',
            tags: ['images']
        }
    }
];
module.exports = images;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZXMvaW1hZ2VzL2ltYWdlcy5yb3V0ZXMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsWUFBWSxDQUFDO0FBRWIsQUFFQSxpREFGaUQ7QUFFakQsSUFBTyxPQUFPLFdBQVcsa0JBQWtCLENBQUMsQ0FBQztBQUM3QyxJQUFPLEdBQUcsV0FBVyxLQUFLLENBQUMsQ0FBQztBQUU1QixJQUFJLGFBQWEsR0FBRyxJQUFJLE9BQU8sQ0FBQyxhQUFhLEVBQUUsQ0FBQztBQUNoRCxJQUFJLE9BQU8sR0FBRyxTQUFTLENBQUM7QUFDeEIsSUFBSSxNQUFNLEdBQUc7SUFDVDtRQUNJLE1BQU0sRUFBRSxNQUFNO1FBQ2QsSUFBSSxFQUFFLE9BQU8sR0FBRyxTQUFTO1FBQ3pCLE9BQU8sRUFBRSxVQUFTLE9BQU8sRUFBRSxLQUFLO1lBQzVCLGFBQWEsQ0FBQyxXQUFXLENBQ3JCLE9BQU8sQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUNwQixPQUFPLENBQUMsT0FBTyxDQUFDLFNBQVMsRUFDekIsT0FBTyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FDckIsSUFBSSxDQUFDLFVBQUMsSUFBSTtnQkFDUCxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDaEIsQ0FBQyxDQUFDLENBQUE7UUFDVixDQUFDO1FBQ0QsTUFBTSxFQUFFO1lBQ0osUUFBUSxFQUFFO2dCQUNOLEtBQUssRUFBRTtvQkFDSCxJQUFJLEVBQUUsR0FBRyxDQUFDLE1BQU0sRUFBRTtvQkFDbEIsU0FBUyxFQUFFLEdBQUcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxPQUFPLEVBQUU7b0JBQ2pDLEtBQUssRUFBRSxHQUFHLENBQUMsTUFBTSxFQUFFO2lCQUN0QjthQUNKO1lBQ0QsS0FBSyxFQUFFO2dCQUNILHVHQUF1RztnQkFDdkcsNEJBQTRCO2FBQy9CO1lBQ0QsV0FBVyxFQUFFLDhCQUE4QjtZQUMzQyxJQUFJLEVBQUUsQ0FBQyxRQUFRLENBQUM7U0FDbkI7S0FDSjtDQUNKLENBQUE7QUFFRCxNQUFNLENBQUMsT0FBTyxHQUFHLE1BQU0sQ0FBQyIsImZpbGUiOiJtb2R1bGVzL2ltYWdlcy9pbWFnZXMucm91dGVzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG4vLy88cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi90eXBpbmdzL3RzZC5kLnRzXCIgLz5cblxuaW1wb3J0IHNlcnZpY2UgPSByZXF1aXJlKCcuL2ltYWdlcy5zZXJ2aWNlJyk7XG5pbXBvcnQgSm9pID0gcmVxdWlyZSgnam9pJyk7XG5cbnZhciBJbWFnZXNTZXJ2aWNlID0gbmV3IHNlcnZpY2UuSW1hZ2VzU2VydmljZSgpO1xudmFyIF9wcmVmaXggPSAnL2ltYWdlcyc7XG52YXIgaW1hZ2VzID0gW1xuICAgIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIHBhdGg6IF9wcmVmaXggKyAnL3VwbG9hZCcsXG4gICAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uKHJlcXVlc3QsIHJlcGx5KSB7XG4gICAgICAgICAgICBJbWFnZXNTZXJ2aWNlLnVwbG9hZEltYWdlKFxuICAgICAgICAgICAgICAgIHJlcXVlc3QucGF5bG9hZC5maWxlLFxuICAgICAgICAgICAgICAgIHJlcXVlc3QucGF5bG9hZC5wcm9kdWN0SWQsXG4gICAgICAgICAgICAgICAgcmVxdWVzdC5wYXlsb2FkLmZpZWxkKVxuICAgICAgICAgICAgICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJlcGx5KGRhdGEpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgIH0sXG4gICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgICAgdmFsaWRhdGU6IHtcbiAgICAgICAgICAgICAgICBxdWVyeToge1xuICAgICAgICAgICAgICAgICAgICBmaWxlOiBKb2kuc3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgIHByb2R1Y3RJZDogSm9pLm51bWJlcigpLmludGVnZXIoKSxcbiAgICAgICAgICAgICAgICAgICAgZmllbGQ6IEpvaS5zdHJpbmcoKSxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbm90ZXM6IFtcbiAgICAgICAgICAgICAgICBcIkZpZWxkIHZhbHVlczogJ3NvZmJhY2tlbmRfX3NvZl93b3JrX21ldGFfX3Bvc3RJbWFnZScvJ3NvZmJhY2tlbmRfX3NvZl93b3JrX21ldGFfX3N1YkltYWdlWCcgKFggPSAxLTkpXCIsXG4gICAgICAgICAgICAgICAgXCJGaWxlIHZhbHVlczogLWJhc2U2NCBkYXRhLVwiXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246ICdVcGxvYWQgaW1hZ2UgdG8gY2xvdWQgc2VydmVyJyxcbiAgICAgICAgICAgIHRhZ3M6IFsnaW1hZ2VzJ11cbiAgICAgICAgfVxuICAgIH1cbl1cblxubW9kdWxlLmV4cG9ydHMgPSBpbWFnZXM7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=