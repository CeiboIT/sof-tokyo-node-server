/// <reference path="../../../typings/tsd.d.ts" />
/// <reference path="../connection/connection.service.ts" />
var Q = require("q");
var connection = require('../connection/connection.service');
var ProductsService = (function () {
    function ProductsService() {
        this.db = connection.service;
    }
    // TODO Necesitamos implementar paginacion Urgente!!!! 
    ProductsService.prototype.getProductsList = function (page) {
        var _listPromise = Q.defer();
        this.db.query('?json=get_recent_posts&count=4&page=' + page).then(function (results) {
            _listPromise.resolve(results);
        });
        return _listPromise.promise;
    };
    ProductsService.prototype.getProductById = function (productId) {
        return this.db.query('?json=1&p=' + productId);
    };
    ProductsService.prototype.getProductsByAuthor = function (authorId) {
        return this.db.query('?get_author_posts=' + authorId);
    };
    return ProductsService;
})();
exports.ProductsService = ProductsService;
;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZXMvcHJvZHVjdHMvcHJvZHVjdHMuc2VydmljZS50cyJdLCJuYW1lcyI6WyJQcm9kdWN0c1NlcnZpY2UiLCJQcm9kdWN0c1NlcnZpY2UuY29uc3RydWN0b3IiLCJQcm9kdWN0c1NlcnZpY2UuZ2V0UHJvZHVjdHNMaXN0IiwiUHJvZHVjdHNTZXJ2aWNlLmdldFByb2R1Y3RCeUlkIiwiUHJvZHVjdHNTZXJ2aWNlLmdldFByb2R1Y3RzQnlBdXRob3IiXSwibWFwcGluZ3MiOiJBQUFBLGtEQUFrRDtBQUNsRCw0REFBNEQ7QUFFNUQsSUFBTyxDQUFDLFdBQVcsR0FBRyxDQUFDLENBQUM7QUFDeEIsSUFBTyxVQUFVLFdBQVcsa0NBQWtDLENBQUMsQ0FBQTtBQVMvRCxJQUFhLGVBQWU7SUFBNUJBLFNBQWFBLGVBQWVBO1FBQ2hCQyxPQUFFQSxHQUFHQSxVQUFVQSxDQUFDQSxPQUFPQSxDQUFDQTtJQXFCcENBLENBQUNBO0lBbkJHRCx1REFBdURBO0lBRXZEQSx5Q0FBZUEsR0FBZkEsVUFBZ0JBLElBQUlBO1FBQ2hCRSxJQUFJQSxZQUFZQSxHQUFHQSxDQUFDQSxDQUFDQSxLQUFLQSxFQUFFQSxDQUFDQTtRQUM3QkEsSUFBSUEsQ0FBQ0EsRUFBRUEsQ0FBQ0EsS0FBS0EsQ0FBQ0Esc0NBQXNDQSxHQUFHQSxJQUFJQSxDQUFDQSxDQUN2REEsSUFBSUEsQ0FBQ0EsVUFBQ0EsT0FBT0E7WUFDVkEsWUFBWUEsQ0FBQ0EsT0FBT0EsQ0FBQ0EsT0FBT0EsQ0FBQ0EsQ0FBQ0E7UUFDbENBLENBQUNBLENBQUNBLENBQUFBO1FBRU5BLE1BQU1BLENBQUNBLFlBQVlBLENBQUNBLE9BQU9BLENBQUNBO0lBQ2hDQSxDQUFDQTtJQUVERix3Q0FBY0EsR0FBZEEsVUFBZUEsU0FBU0E7UUFDcEJHLE1BQU1BLENBQUNBLElBQUlBLENBQUNBLEVBQUVBLENBQUNBLEtBQUtBLENBQUNBLFlBQVlBLEdBQUdBLFNBQVNBLENBQUNBLENBQUFBO0lBQ2xEQSxDQUFDQTtJQUVESCw2Q0FBbUJBLEdBQW5CQSxVQUFvQkEsUUFBUUE7UUFDeEJJLE1BQU1BLENBQUNBLElBQUlBLENBQUNBLEVBQUVBLENBQUNBLEtBQUtBLENBQUNBLG9CQUFvQkEsR0FBR0EsUUFBUUEsQ0FBQ0EsQ0FBQUE7SUFDekRBLENBQUNBO0lBQ0xKLHNCQUFDQTtBQUFEQSxDQXRCQSxBQXNCQ0EsSUFBQTtBQXRCWSx1QkFBZSxHQUFmLGVBc0JaLENBQUE7QUFBQSxDQUFDIiwiZmlsZSI6Im1vZHVsZXMvcHJvZHVjdHMvcHJvZHVjdHMuc2VydmljZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi90eXBpbmdzL3RzZC5kLnRzXCIgLz5cclxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL2Nvbm5lY3Rpb24vY29ubmVjdGlvbi5zZXJ2aWNlLnRzXCIgLz5cclxuXHJcbmltcG9ydCBRID0gcmVxdWlyZShcInFcIik7XHJcbmltcG9ydCBjb25uZWN0aW9uID0gcmVxdWlyZSgnLi4vY29ubmVjdGlvbi9jb25uZWN0aW9uLnNlcnZpY2UnKVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJUHJvZHVjdHNTZXJ2aWNlIHtcclxuICAgIGdldFByb2R1Y3RzTGlzdChwYWdlKTogUS5JUHJvbWlzZTx7fT47XHJcbiAgICBnZXRQcm9kdWN0QnlJZChwcm9kdWN0SWQpOiBRLklQcm9taXNlPHt9PjtcclxuICAgIGdldFByb2R1Y3RzQnlBdXRob3IoYXV0aG9ySWQpIDogUS5JUHJvbWlzZTx7fT47XHJcbn1cclxuXHJcblxyXG5leHBvcnQgY2xhc3MgUHJvZHVjdHNTZXJ2aWNlIGltcGxlbWVudHMgSVByb2R1Y3RzU2VydmljZSB7XHJcbiAgICBwcml2YXRlIGRiID0gY29ubmVjdGlvbi5zZXJ2aWNlO1xyXG5cclxuICAgIC8vIFRPRE8gTmVjZXNpdGFtb3MgaW1wbGVtZW50YXIgcGFnaW5hY2lvbiBVcmdlbnRlISEhISBcclxuXHJcbiAgICBnZXRQcm9kdWN0c0xpc3QocGFnZSk6IFEuSVByb21pc2U8e30+IHtcclxuICAgICAgICB2YXIgX2xpc3RQcm9taXNlID0gUS5kZWZlcigpO1xyXG4gICAgICAgIHRoaXMuZGIucXVlcnkoJz9qc29uPWdldF9yZWNlbnRfcG9zdHMmY291bnQ9NCZwYWdlPScgKyBwYWdlKSBcclxuICAgICAgICAgICAgLnRoZW4oKHJlc3VsdHMpID0+IHtcclxuICAgICAgICAgICAgICAgIF9saXN0UHJvbWlzZS5yZXNvbHZlKHJlc3VsdHMpO1xyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICByZXR1cm4gX2xpc3RQcm9taXNlLnByb21pc2U7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0UHJvZHVjdEJ5SWQocHJvZHVjdElkKTogUS5JUHJvbWlzZTx7fT4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRiLnF1ZXJ5KCc/anNvbj0xJnA9JyArIHByb2R1Y3RJZClcclxuICAgIH1cclxuICAgIFxyXG4gICAgZ2V0UHJvZHVjdHNCeUF1dGhvcihhdXRob3JJZCkgOiBRLklQcm9taXNlPHt9PntcclxuICAgICAgICByZXR1cm4gdGhpcy5kYi5xdWVyeSgnP2dldF9hdXRob3JfcG9zdHM9JyArIGF1dGhvcklkKVxyXG4gICAgfVxyXG59OyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==