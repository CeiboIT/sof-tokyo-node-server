/// <reference path="../../../typings/tsd.d.ts" />
/// <reference path="../connection/connection.service.ts" />
var Q = require("q");
var connection = require('../connection/connection.service');
var ProductsService = (function () {
    function ProductsService() {
        this.db = connection.service;
    }
    // TODO Necesitamos implementar paginacion Urgente!!!! 
    ProductsService.prototype.getProductsList = function () {
        var _listPromise = Q.defer();
        this.db.query('?json=get_recent_posts').then(function (results) {
            _listPromise.resolve(results['posts']);
        });
        return _listPromise.promise;
    };
    ProductsService.prototype.getProductById = function (productId) {
        return this.db.query('?json=1&p=' + productId);
    };
    return ProductsService;
})();
exports.ProductsService = ProductsService;
;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZXMvcHJvZHVjdHMvcHJvZHVjdHMuc2VydmljZS50cyJdLCJuYW1lcyI6WyJQcm9kdWN0c1NlcnZpY2UiLCJQcm9kdWN0c1NlcnZpY2UuY29uc3RydWN0b3IiLCJQcm9kdWN0c1NlcnZpY2UuZ2V0UHJvZHVjdHNMaXN0IiwiUHJvZHVjdHNTZXJ2aWNlLmdldFByb2R1Y3RCeUlkIl0sIm1hcHBpbmdzIjoiQUFBQSxrREFBa0Q7QUFDbEQsNERBQTREO0FBRTVELElBQU8sQ0FBQyxXQUFXLEdBQUcsQ0FBQyxDQUFDO0FBQ3hCLElBQU8sVUFBVSxXQUFXLGtDQUFrQyxDQUFDLENBQUE7QUFVL0QsSUFBYSxlQUFlO0lBQTVCQSxTQUFhQSxlQUFlQTtRQUNoQkMsT0FBRUEsR0FBR0EsVUFBVUEsQ0FBQ0EsT0FBT0EsQ0FBQ0E7SUFtQnBDQSxDQUFDQTtJQWpCR0QsdURBQXVEQTtJQUd2REEseUNBQWVBLEdBQWZBO1FBQ0lFLElBQUlBLFlBQVlBLEdBQUdBLENBQUNBLENBQUNBLEtBQUtBLEVBQUVBLENBQUNBO1FBRTdCQSxJQUFJQSxDQUFDQSxFQUFFQSxDQUFDQSxLQUFLQSxDQUFDQSx3QkFBd0JBLENBQUNBLENBQ2xDQSxJQUFJQSxDQUFDQSxVQUFDQSxPQUFPQTtZQUNWQSxZQUFZQSxDQUFDQSxPQUFPQSxDQUFDQSxPQUFPQSxDQUFDQSxPQUFPQSxDQUFDQSxDQUFDQSxDQUFDQTtRQUMzQ0EsQ0FBQ0EsQ0FBQ0EsQ0FBQUE7UUFFTkEsTUFBTUEsQ0FBQ0EsWUFBWUEsQ0FBQ0EsT0FBT0EsQ0FBQ0E7SUFDaENBLENBQUNBO0lBRURGLHdDQUFjQSxHQUFkQSxVQUFlQSxTQUFTQTtRQUNwQkcsTUFBTUEsQ0FBQ0EsSUFBSUEsQ0FBQ0EsRUFBRUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsWUFBWUEsR0FBR0EsU0FBU0EsQ0FBQ0EsQ0FBQUE7SUFDbERBLENBQUNBO0lBQ0xILHNCQUFDQTtBQUFEQSxDQXBCQSxBQW9CQ0EsSUFBQTtBQXBCWSx1QkFBZSxHQUFmLGVBb0JaLENBQUE7QUFBQSxDQUFDIiwiZmlsZSI6Im1vZHVsZXMvcHJvZHVjdHMvcHJvZHVjdHMuc2VydmljZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi90eXBpbmdzL3RzZC5kLnRzXCIgLz5cclxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL2Nvbm5lY3Rpb24vY29ubmVjdGlvbi5zZXJ2aWNlLnRzXCIgLz5cclxuXHJcbmltcG9ydCBRID0gcmVxdWlyZShcInFcIik7XHJcbmltcG9ydCBjb25uZWN0aW9uID0gcmVxdWlyZSgnLi4vY29ubmVjdGlvbi9jb25uZWN0aW9uLnNlcnZpY2UnKVxyXG5pbXBvcnQgXyA9IHJlcXVpcmUoXCJsb2Rhc2hcIik7XHJcbmltcG9ydCBodHRwID0gcmVxdWlyZShcImh0dHBcIik7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElQcm9kdWN0c1NlcnZpY2Uge1xyXG4gICAgZ2V0UHJvZHVjdHNMaXN0KCk6IFEuSVByb21pc2U8e30+XHJcbiAgICBnZXRQcm9kdWN0QnlJZChwcm9kdWN0SWQpOiBRLklQcm9taXNlPHt9PlxyXG59XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIFByb2R1Y3RzU2VydmljZSBpbXBsZW1lbnRzIElQcm9kdWN0c1NlcnZpY2Uge1xyXG4gICAgcHJpdmF0ZSBkYiA9IGNvbm5lY3Rpb24uc2VydmljZTtcclxuXHJcbiAgICAvLyBUT0RPIE5lY2VzaXRhbW9zIGltcGxlbWVudGFyIHBhZ2luYWNpb24gVXJnZW50ZSEhISEgXHJcblxyXG5cclxuICAgIGdldFByb2R1Y3RzTGlzdCgpOiBRLklQcm9taXNlPHt9PiB7XHJcbiAgICAgICAgdmFyIF9saXN0UHJvbWlzZSA9IFEuZGVmZXIoKTtcclxuXHJcbiAgICAgICAgdGhpcy5kYi5xdWVyeSgnP2pzb249Z2V0X3JlY2VudF9wb3N0cycpXHJcbiAgICAgICAgICAgIC50aGVuKChyZXN1bHRzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBfbGlzdFByb21pc2UucmVzb2x2ZShyZXN1bHRzWydwb3N0cyddKTtcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgcmV0dXJuIF9saXN0UHJvbWlzZS5wcm9taXNlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFByb2R1Y3RCeUlkKHByb2R1Y3RJZCk6IFEuSVByb21pc2U8e30+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5kYi5xdWVyeSgnP2pzb249MSZwPScgKyBwcm9kdWN0SWQpXHJcbiAgICB9XHJcbn07Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9