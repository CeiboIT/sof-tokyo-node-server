/// <reference path="../../../typings/tsd.d.ts" />
/// <reference path="../connection/connection.service.ts" />
var Q = require("q");
var connection = require('../connection/connection.service');
var ProductsService = (function () {
    function ProductsService() {
        this.db = connection.service.getConnection();
    }
    ProductsService.prototype.getProductsList = function () {
        var _this = this;
        var deferred = Q.defer();
        this.db.connect(function (err, result) {
            _this.db.query('SELECT * from wp2_posts', function (err, rows) {
                deferred.resolve(rows);
            });
        });
        return deferred.promise;
    };
    ProductsService.prototype.getProductById = function (productId) {
        var _this = this;
        var deferred = Q.defer();
        this.db.connect(function (err, result) {
            _this.db.query('SELECT * from wp2_posts WHERE ID=' + productId, function (err, rows) {
                deferred.resolve(rows);
            });
        });
        return deferred.promise;
    };
    return ProductsService;
})();
exports.ProductsService = ProductsService;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZXMvcHJvZHVjdHMvcHJvZHVjdHMuc2VydmljZS50cyJdLCJuYW1lcyI6WyJQcm9kdWN0c1NlcnZpY2UiLCJQcm9kdWN0c1NlcnZpY2UuY29uc3RydWN0b3IiLCJQcm9kdWN0c1NlcnZpY2UuZ2V0UHJvZHVjdHNMaXN0IiwiUHJvZHVjdHNTZXJ2aWNlLmdldFByb2R1Y3RCeUlkIl0sIm1hcHBpbmdzIjoiQUFBQSxrREFBa0Q7QUFDbEQsNERBQTREO0FBRTVELElBQU8sQ0FBQyxXQUFXLEdBQUcsQ0FBQyxDQUFDO0FBQ3hCLElBQU8sVUFBVSxXQUFXLGtDQUFrQyxDQUFDLENBQUE7QUFFL0QsSUFBYSxlQUFlO0lBRTNCQSxTQUZZQSxlQUFlQTtRQUcxQkMsSUFBSUEsQ0FBQ0EsRUFBRUEsR0FBR0EsVUFBVUEsQ0FBQ0EsT0FBT0EsQ0FBQ0EsYUFBYUEsRUFBRUEsQ0FBQ0E7SUFDOUNBLENBQUNBO0lBRURELHlDQUFlQSxHQUFmQTtRQUFBRSxpQkFTQ0E7UUFSQUEsSUFBSUEsUUFBUUEsR0FBR0EsQ0FBQ0EsQ0FBQ0EsS0FBS0EsRUFBRUEsQ0FBQ0E7UUFDekJBLElBQUlBLENBQUNBLEVBQUVBLENBQUNBLE9BQU9BLENBQUNBLFVBQUNBLEdBQUdBLEVBQUVBLE1BQU1BO1lBQzNCQSxLQUFJQSxDQUFDQSxFQUFFQSxDQUFDQSxLQUFLQSxDQUFDQSx5QkFBeUJBLEVBQUVBLFVBQVNBLEdBQUdBLEVBQUVBLElBQUlBO2dCQUMxRCxRQUFRLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFBO1lBQ3ZCLENBQUMsQ0FBQ0EsQ0FBQUE7UUFDSEEsQ0FBQ0EsQ0FBQ0EsQ0FBQUE7UUFFRkEsTUFBTUEsQ0FBQ0EsUUFBUUEsQ0FBQ0EsT0FBT0EsQ0FBQ0E7SUFDekJBLENBQUNBO0lBRURGLHdDQUFjQSxHQUFkQSxVQUFlQSxTQUFTQTtRQUF4QkcsaUJBU0NBO1FBUkFBLElBQUlBLFFBQVFBLEdBQUdBLENBQUNBLENBQUNBLEtBQUtBLEVBQUVBLENBQUNBO1FBQ3pCQSxJQUFJQSxDQUFDQSxFQUFFQSxDQUFDQSxPQUFPQSxDQUFDQSxVQUFDQSxHQUFHQSxFQUFFQSxNQUFNQTtZQUMzQkEsS0FBSUEsQ0FBQ0EsRUFBRUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsbUNBQW1DQSxHQUFHQSxTQUFTQSxFQUFHQSxVQUFTQSxHQUFHQSxFQUFFQSxJQUFJQTtnQkFDakYsUUFBUSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQTtZQUN2QixDQUFDLENBQUNBLENBQUFBO1FBQ0hBLENBQUNBLENBQUNBLENBQUFBO1FBRUZBLE1BQU1BLENBQUNBLFFBQVFBLENBQUNBLE9BQU9BLENBQUNBO0lBQ3pCQSxDQUFDQTtJQUVGSCxzQkFBQ0E7QUFBREEsQ0E1QkEsQUE0QkNBLElBQUE7QUE1QlksdUJBQWUsR0FBZixlQTRCWixDQUFBIiwiZmlsZSI6Im1vZHVsZXMvcHJvZHVjdHMvcHJvZHVjdHMuc2VydmljZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi90eXBpbmdzL3RzZC5kLnRzXCIgLz5cclxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL2Nvbm5lY3Rpb24vY29ubmVjdGlvbi5zZXJ2aWNlLnRzXCIgLz5cclxuXHJcbmltcG9ydCBRID0gcmVxdWlyZShcInFcIik7XHJcbmltcG9ydCBjb25uZWN0aW9uID0gcmVxdWlyZSgnLi4vY29ubmVjdGlvbi9jb25uZWN0aW9uLnNlcnZpY2UnKVxyXG5cclxuZXhwb3J0IGNsYXNzIFByb2R1Y3RzU2VydmljZSB7XHJcblx0cHJpdmF0ZSBkYjtcclxuXHRjb25zdHJ1Y3RvcigpIHtcclxuXHRcdHRoaXMuZGIgPSBjb25uZWN0aW9uLnNlcnZpY2UuZ2V0Q29ubmVjdGlvbigpO1xyXG5cdH1cclxuXHJcblx0Z2V0UHJvZHVjdHNMaXN0KCkge1xyXG5cdFx0dmFyIGRlZmVycmVkID0gUS5kZWZlcigpO1xyXG5cdFx0dGhpcy5kYi5jb25uZWN0KChlcnIsIHJlc3VsdCkgPT4ge1xyXG5cdFx0XHR0aGlzLmRiLnF1ZXJ5KCdTRUxFQ1QgKiBmcm9tIHdwMl9wb3N0cycsIGZ1bmN0aW9uKGVyciwgcm93cykge1xyXG5cdFx0XHRcdGRlZmVycmVkLnJlc29sdmUocm93cylcclxuXHRcdFx0fSlcclxuXHRcdH0pXHJcblx0XHRcclxuXHRcdHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xyXG5cdH1cclxuXHRcclxuXHRnZXRQcm9kdWN0QnlJZChwcm9kdWN0SWQpIHtcclxuXHRcdHZhciBkZWZlcnJlZCA9IFEuZGVmZXIoKTtcclxuXHRcdHRoaXMuZGIuY29ubmVjdCgoZXJyLCByZXN1bHQpID0+IHtcclxuXHRcdFx0dGhpcy5kYi5xdWVyeSgnU0VMRUNUICogZnJvbSB3cDJfcG9zdHMgV0hFUkUgSUQ9JyArIHByb2R1Y3RJZCAsIGZ1bmN0aW9uKGVyciwgcm93cykge1xyXG5cdFx0XHRcdGRlZmVycmVkLnJlc29sdmUocm93cylcclxuXHRcdFx0fSlcclxuXHRcdH0pXHJcblx0XHRcclxuXHRcdHJldHVybiBkZWZlcnJlZC5wcm9taXNlOyBcclxuXHR9XHJcblxyXG59Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9