/// <reference path="../../../typings/tsd.d.ts" />
/// <reference path="../connection/connection.service.ts" />
var Q = require("q");
var connection = require('../connection/connection.service');
var ProductsService = (function () {
    function ProductsService() {
        this.db = connection.service;
    }
    // TODO Necesitamos implementar paginacion Urgente!!!! 
    ProductsService.prototype.getProductsList = function () {
        var _listPromise = Q.defer();
        this.db.query('?json=get_recent_posts').then(function (results) {
            _listPromise.resolve(results);
        });
        return _listPromise.promise;
    };
    ProductsService.prototype.getProductById = function (productId) {
        return this.db.query('?json=1&p=' + productId);
    };
    ProductsService.prototype.getProductsByAuthor = function (authorId) {
        return this.db.query('?get_author_posts=' + authorId);
    };
    return ProductsService;
})();
exports.ProductsService = ProductsService;
;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZXMvcHJvZHVjdHMvcHJvZHVjdHMuc2VydmljZS50cyJdLCJuYW1lcyI6WyJQcm9kdWN0c1NlcnZpY2UiLCJQcm9kdWN0c1NlcnZpY2UuY29uc3RydWN0b3IiLCJQcm9kdWN0c1NlcnZpY2UuZ2V0UHJvZHVjdHNMaXN0IiwiUHJvZHVjdHNTZXJ2aWNlLmdldFByb2R1Y3RCeUlkIiwiUHJvZHVjdHNTZXJ2aWNlLmdldFByb2R1Y3RzQnlBdXRob3IiXSwibWFwcGluZ3MiOiJBQUFBLGtEQUFrRDtBQUNsRCw0REFBNEQ7QUFFNUQsSUFBTyxDQUFDLFdBQVcsR0FBRyxDQUFDLENBQUM7QUFDeEIsSUFBTyxVQUFVLFdBQVcsa0NBQWtDLENBQUMsQ0FBQTtBQVMvRCxJQUFhLGVBQWU7SUFBNUJBLFNBQWFBLGVBQWVBO1FBQ2hCQyxPQUFFQSxHQUFHQSxVQUFVQSxDQUFDQSxPQUFPQSxDQUFDQTtJQXNCcENBLENBQUNBO0lBcEJHRCx1REFBdURBO0lBR3ZEQSx5Q0FBZUEsR0FBZkE7UUFDSUUsSUFBSUEsWUFBWUEsR0FBR0EsQ0FBQ0EsQ0FBQ0EsS0FBS0EsRUFBRUEsQ0FBQ0E7UUFDN0JBLElBQUlBLENBQUNBLEVBQUVBLENBQUNBLEtBQUtBLENBQUNBLHdCQUF3QkEsQ0FBQ0EsQ0FDbENBLElBQUlBLENBQUNBLFVBQUNBLE9BQU9BO1lBQ1ZBLFlBQVlBLENBQUNBLE9BQU9BLENBQUNBLEVBQUNBLElBQUlBLEVBQUVBLE9BQU9BLEVBQUNBLENBQUNBLENBQUNBO1FBQzFDQSxDQUFDQSxDQUFDQSxDQUFBQTtRQUVOQSxNQUFNQSxDQUFDQSxZQUFZQSxDQUFDQSxPQUFPQSxDQUFDQTtJQUNoQ0EsQ0FBQ0E7SUFFREYsd0NBQWNBLEdBQWRBLFVBQWVBLFNBQVNBO1FBQ3BCRyxNQUFNQSxDQUFDQSxJQUFJQSxDQUFDQSxFQUFFQSxDQUFDQSxLQUFLQSxDQUFDQSxZQUFZQSxHQUFHQSxTQUFTQSxDQUFDQSxDQUFBQTtJQUNsREEsQ0FBQ0E7SUFFREgsNkNBQW1CQSxHQUFuQkEsVUFBb0JBLFFBQVFBO1FBQ3hCSSxNQUFNQSxDQUFDQSxJQUFJQSxDQUFDQSxFQUFFQSxDQUFDQSxLQUFLQSxDQUFDQSxvQkFBb0JBLEdBQUdBLFFBQVFBLENBQUNBLENBQUFBO0lBQ3pEQSxDQUFDQTtJQUNMSixzQkFBQ0E7QUFBREEsQ0F2QkEsQUF1QkNBLElBQUE7QUF2QlksdUJBQWUsR0FBZixlQXVCWixDQUFBO0FBQUEsQ0FBQyIsImZpbGUiOiJtb2R1bGVzL3Byb2R1Y3RzL3Byb2R1Y3RzLnNlcnZpY2UuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vdHlwaW5ncy90c2QuZC50c1wiIC8+XHJcbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi9jb25uZWN0aW9uL2Nvbm5lY3Rpb24uc2VydmljZS50c1wiIC8+XHJcblxyXG5pbXBvcnQgUSA9IHJlcXVpcmUoXCJxXCIpO1xyXG5pbXBvcnQgY29ubmVjdGlvbiA9IHJlcXVpcmUoJy4uL2Nvbm5lY3Rpb24vY29ubmVjdGlvbi5zZXJ2aWNlJylcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSVByb2R1Y3RzU2VydmljZSB7XHJcbiAgICBnZXRQcm9kdWN0c0xpc3QoKTogUS5JUHJvbWlzZTx7fT47XHJcbiAgICBnZXRQcm9kdWN0QnlJZChwcm9kdWN0SWQpOiBRLklQcm9taXNlPHt9PjtcclxuICAgIGdldFByb2R1Y3RzQnlBdXRob3IoYXV0aG9ySWQpIDogUS5JUHJvbWlzZTx7fT47XHJcbn1cclxuXHJcblxyXG5leHBvcnQgY2xhc3MgUHJvZHVjdHNTZXJ2aWNlIGltcGxlbWVudHMgSVByb2R1Y3RzU2VydmljZSB7XHJcbiAgICBwcml2YXRlIGRiID0gY29ubmVjdGlvbi5zZXJ2aWNlO1xyXG5cclxuICAgIC8vIFRPRE8gTmVjZXNpdGFtb3MgaW1wbGVtZW50YXIgcGFnaW5hY2lvbiBVcmdlbnRlISEhISBcclxuXHJcblxyXG4gICAgZ2V0UHJvZHVjdHNMaXN0KCk6IFEuSVByb21pc2U8e30+IHtcclxuICAgICAgICB2YXIgX2xpc3RQcm9taXNlID0gUS5kZWZlcigpO1xyXG4gICAgICAgIHRoaXMuZGIucXVlcnkoJz9qc29uPWdldF9yZWNlbnRfcG9zdHMnKVxyXG4gICAgICAgICAgICAudGhlbigocmVzdWx0cykgPT4ge1xyXG4gICAgICAgICAgICAgICAgX2xpc3RQcm9taXNlLnJlc29sdmUoe2RhdGE6IHJlc3VsdHN9KTtcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgcmV0dXJuIF9saXN0UHJvbWlzZS5wcm9taXNlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFByb2R1Y3RCeUlkKHByb2R1Y3RJZCk6IFEuSVByb21pc2U8e30+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5kYi5xdWVyeSgnP2pzb249MSZwPScgKyBwcm9kdWN0SWQpXHJcbiAgICB9XHJcbiAgICBcclxuICAgIGdldFByb2R1Y3RzQnlBdXRob3IoYXV0aG9ySWQpIDogUS5JUHJvbWlzZTx7fT57XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGIucXVlcnkoJz9nZXRfYXV0aG9yX3Bvc3RzPScgKyBhdXRob3JJZClcclxuICAgIH1cclxufTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=