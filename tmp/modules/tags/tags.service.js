/// <reference path="../../../typings/tsd.d.ts" />
/// <reference path="../connection/connection.service.ts" />
var Q = require("q");
var connection = require('../connection/connection.service');
var TagsService = (function () {
    function TagsService() {
        this.db = connection.service;
    }
    TagsService.prototype.getTagsList = function () {
        var _listPromise = Q.defer();
        this.db.query('?json=get_tag_index').then(function (results) {
            _listPromise.resolve(results['tags']);
        });
        return _listPromise.promise;
    };
    TagsService.prototype.getTagById = function (tagId) {
        return this.db.query('?json=1&p=' + tagId);
    };
    return TagsService;
})();
exports.TagsService = TagsService;
;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZXMvdGFncy90YWdzLnNlcnZpY2UudHMiXSwibmFtZXMiOlsiVGFnc1NlcnZpY2UiLCJUYWdzU2VydmljZS5jb25zdHJ1Y3RvciIsIlRhZ3NTZXJ2aWNlLmdldFRhZ3NMaXN0IiwiVGFnc1NlcnZpY2UuZ2V0VGFnQnlJZCJdLCJtYXBwaW5ncyI6IkFBQUEsa0RBQWtEO0FBQ2xELDREQUE0RDtBQUU1RCxJQUFPLENBQUMsV0FBVyxHQUFHLENBQUMsQ0FBQztBQUN4QixJQUFPLFVBQVUsV0FBVyxrQ0FBa0MsQ0FBQyxDQUFBO0FBUS9ELElBQWEsV0FBVztJQUF4QkEsU0FBYUEsV0FBV0E7UUFDWkMsT0FBRUEsR0FBR0EsVUFBVUEsQ0FBQ0EsT0FBT0EsQ0FBQ0E7SUFnQnBDQSxDQUFDQTtJQWRHRCxpQ0FBV0EsR0FBWEE7UUFDSUUsSUFBSUEsWUFBWUEsR0FBR0EsQ0FBQ0EsQ0FBQ0EsS0FBS0EsRUFBRUEsQ0FBQ0E7UUFFN0JBLElBQUlBLENBQUNBLEVBQUVBLENBQUNBLEtBQUtBLENBQUNBLHFCQUFxQkEsQ0FBQ0EsQ0FDL0JBLElBQUlBLENBQUNBLFVBQUNBLE9BQU9BO1lBQ1ZBLFlBQVlBLENBQUNBLE9BQU9BLENBQUNBLE9BQU9BLENBQUNBLE1BQU1BLENBQUNBLENBQUNBLENBQUNBO1FBQzFDQSxDQUFDQSxDQUFDQSxDQUFBQTtRQUVOQSxNQUFNQSxDQUFDQSxZQUFZQSxDQUFDQSxPQUFPQSxDQUFDQTtJQUNoQ0EsQ0FBQ0E7SUFFREYsZ0NBQVVBLEdBQVZBLFVBQVdBLEtBQUtBO1FBQ1pHLE1BQU1BLENBQUNBLElBQUlBLENBQUNBLEVBQUVBLENBQUNBLEtBQUtBLENBQUNBLFlBQVlBLEdBQUdBLEtBQUtBLENBQUNBLENBQUFBO0lBQzlDQSxDQUFDQTtJQUNMSCxrQkFBQ0E7QUFBREEsQ0FqQkEsQUFpQkNBLElBQUE7QUFqQlksbUJBQVcsR0FBWCxXQWlCWixDQUFBO0FBQUEsQ0FBQyIsImZpbGUiOiJtb2R1bGVzL3RhZ3MvdGFncy5zZXJ2aWNlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uLy4uL3R5cGluZ3MvdHNkLmQudHNcIiAvPlxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL2Nvbm5lY3Rpb24vY29ubmVjdGlvbi5zZXJ2aWNlLnRzXCIgLz5cblxuaW1wb3J0IFEgPSByZXF1aXJlKFwicVwiKTtcbmltcG9ydCBjb25uZWN0aW9uID0gcmVxdWlyZSgnLi4vY29ubmVjdGlvbi9jb25uZWN0aW9uLnNlcnZpY2UnKVxuXG5leHBvcnQgaW50ZXJmYWNlIElUYWdzU2VydmljZSB7XG4gICAgZ2V0VGFnc0xpc3QoKTogUS5JUHJvbWlzZTx7fT5cbiAgICBnZXRUYWdCeUlkKHRhZ0lkKTogUS5JUHJvbWlzZTx7fT5cbn1cblxuXG5leHBvcnQgY2xhc3MgVGFnc1NlcnZpY2UgaW1wbGVtZW50cyBJVGFnc1NlcnZpY2Uge1xuICAgIHByaXZhdGUgZGIgPSBjb25uZWN0aW9uLnNlcnZpY2U7XG5cbiAgICBnZXRUYWdzTGlzdCgpOiBRLklQcm9taXNlPHt9PiB7XG4gICAgICAgIHZhciBfbGlzdFByb21pc2UgPSBRLmRlZmVyKCk7XG5cbiAgICAgICAgdGhpcy5kYi5xdWVyeSgnP2pzb249Z2V0X3RhZ19pbmRleCcpXG4gICAgICAgICAgICAudGhlbigocmVzdWx0cykgPT4ge1xuICAgICAgICAgICAgICAgIF9saXN0UHJvbWlzZS5yZXNvbHZlKHJlc3VsdHNbJ3RhZ3MnXSk7XG4gICAgICAgICAgICB9KVxuXG4gICAgICAgIHJldHVybiBfbGlzdFByb21pc2UucHJvbWlzZTtcbiAgICB9XG5cbiAgICBnZXRUYWdCeUlkKHRhZ0lkKTogUS5JUHJvbWlzZTx7fT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5kYi5xdWVyeSgnP2pzb249MSZwPScgKyB0YWdJZClcbiAgICB9XG59O1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9