///<reference path='../../../typings/tsd.d.ts' />
'use strict';
var mysql = require("mysql");
var q = require("q");
var ConnectionService = (function () {
    function ConnectionService() {
        this.dbConfig = {
            host: 'gator2009.hostgator.com',
            user: 'tdnb1207_sof',
            password: 'pkc~^_9WZ(us',
            //database	: 'tdnb1207_sof', // production
            database: 'tdnb1207_sof_develop',
            debug: false,
            insecureAuth: true
        };
    }
    ConnectionService.prototype.query = function (query) {
        var defer = q.defer();
        var _rows;
        var _connection = mysql.createConnection(this.dbConfig);
        _connection.query(query, function (err, rows) {
            _connection.end();
            if (err) {
                defer.reject(err);
                throw err;
            }
            ;
            defer.resolve(rows);
        });
        return defer.promise;
    };
    return ConnectionService;
})();
exports.ConnectionService = ConnectionService;
exports.service = new ConnectionService();

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZXMvY29ubmVjdGlvbi9jb25uZWN0aW9uLnNlcnZpY2UudHMiXSwibmFtZXMiOlsiQ29ubmVjdGlvblNlcnZpY2UiLCJDb25uZWN0aW9uU2VydmljZS5jb25zdHJ1Y3RvciIsIkNvbm5lY3Rpb25TZXJ2aWNlLnF1ZXJ5Il0sIm1hcHBpbmdzIjoiQUFBQSxBQUNBLGlEQURpRDtBQUNqRCxZQUFZLENBQUM7QUFFYixJQUFPLEtBQUssV0FBVyxPQUFPLENBQUMsQ0FBQztBQUNoQyxJQUFPLENBQUMsV0FBVyxHQUFHLENBQUMsQ0FBQztBQUV4QixJQUFhLGlCQUFpQjtJQUs1QkEsU0FMV0EsaUJBQWlCQTtRQU01QkMsSUFBSUEsQ0FBQ0EsUUFBUUEsR0FBR0E7WUFDZkEsSUFBSUEsRUFBSUEseUJBQXlCQTtZQUNwQkEsSUFBSUEsRUFBSUEsY0FBY0E7WUFDdEJBLFFBQVFBLEVBQUdBLGNBQWNBO1lBQ3pCQSxBQUNBQSwwQ0FEMENBO1lBQzFDQSxRQUFRQSxFQUFHQSxzQkFBc0JBO1lBQzdDQSxLQUFLQSxFQUFPQSxLQUFLQTtZQUNqQkEsWUFBWUEsRUFBRUEsSUFBSUE7U0FDbEJBLENBQUFBO0lBQ0ZBLENBQUNBO0lBRURELGlDQUFLQSxHQUFMQSxVQUFPQSxLQUFLQTtRQUNYRSxJQUFJQSxLQUFLQSxHQUFHQSxDQUFDQSxDQUFDQSxLQUFLQSxFQUFFQSxDQUFDQTtRQUN0QkEsSUFBSUEsS0FBS0EsQ0FBQ0E7UUFDVkEsSUFBSUEsV0FBV0EsR0FBR0EsS0FBS0EsQ0FBQ0EsZ0JBQWdCQSxDQUFDQSxJQUFJQSxDQUFDQSxRQUFRQSxDQUFDQSxDQUFDQTtRQUN4REEsV0FBV0EsQ0FBQ0EsS0FBS0EsQ0FBQ0EsS0FBS0EsRUFBRUEsVUFBQ0EsR0FBR0EsRUFBRUEsSUFBSUE7WUFDbENBLFdBQVdBLENBQUNBLEdBQUdBLEVBQUVBLENBQUNBO1lBQ2xCQSxFQUFFQSxDQUFBQSxDQUFDQSxHQUFHQSxDQUFDQSxDQUFDQSxDQUFDQTtnQkFDUkEsS0FBS0EsQ0FBQ0EsTUFBTUEsQ0FBQ0EsR0FBR0EsQ0FBQ0EsQ0FBQ0E7Z0JBQUNBLE1BQU1BLEdBQUdBLENBQUFBO1lBQzlCQSxDQUFDQTtZQUFBQSxDQUFDQTtZQUNGQSxLQUFLQSxDQUFDQSxPQUFPQSxDQUFDQSxJQUFJQSxDQUFDQSxDQUFDQTtRQUNwQkEsQ0FBQ0EsQ0FBQ0EsQ0FBQUE7UUFDRkEsTUFBTUEsQ0FBQ0EsS0FBS0EsQ0FBQ0EsT0FBT0EsQ0FBQ0E7SUFDdEJBLENBQUNBO0lBRUZGLHdCQUFDQTtBQUFEQSxDQS9CRCxBQStCRUEsSUFBQTtBQS9CVyx5QkFBaUIsR0FBakIsaUJBK0JYLENBQUE7QUFFVSxlQUFPLEdBQUcsSUFBSSxpQkFBaUIsRUFBRSxDQUFDIiwiZmlsZSI6Im1vZHVsZXMvY29ubmVjdGlvbi9jb25uZWN0aW9uLnNlcnZpY2UuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLy88cmVmZXJlbmNlIHBhdGg9Jy4uLy4uLy4uL3R5cGluZ3MvdHNkLmQudHMnIC8+XHJcbid1c2Ugc3RyaWN0JztcclxuXHJcbmltcG9ydCBteXNxbCA9IHJlcXVpcmUoXCJteXNxbFwiKTtcclxuaW1wb3J0IHEgPSByZXF1aXJlKFwicVwiKTtcclxuXHJcbmV4cG9ydCBjbGFzcyBDb25uZWN0aW9uU2VydmljZVxyXG4ge1xyXG5cdCBwcml2YXRlIGNvbm5lY3Rpb25TdHJlYW07XHJcblx0IHByaXZhdGUgZGJDb25maWc7XHJcblx0IFxyXG5cdCBjb25zdHJ1Y3RvcigpIHtcclxuXHRcdHRoaXMuZGJDb25maWcgPSB7IFxyXG5cdFx0XHRob3N0XHRcdDogJ2dhdG9yMjAwOS5ob3N0Z2F0b3IuY29tJyxcclxuICAgICAgICAgICAgICAgIHVzZXJcdFx0OiAndGRuYjEyMDdfc29mJyxcclxuICAgICAgICAgICAgICAgIHBhc3N3b3JkXHQ6ICdwa2N+Xl85V1oodXMnLFxyXG4gICAgICAgICAgICAgICAgLy9kYXRhYmFzZVx0OiAndGRuYjEyMDdfc29mJywgLy8gcHJvZHVjdGlvblxyXG4gICAgICAgICAgICAgICAgZGF0YWJhc2VcdDogJ3RkbmIxMjA3X3NvZl9kZXZlbG9wJywgLy8gZGV2ZWxvcFxyXG5cdFx0XHRcdGRlYnVnICAgIFx0OiBmYWxzZSxcclxuXHRcdFx0XHRpbnNlY3VyZUF1dGg6IHRydWVcclxuXHRcdFx0fVxyXG5cdCB9XHJcblx0IFxyXG5cdCBxdWVyeSAocXVlcnkpIHtcclxuXHRcdCB2YXIgZGVmZXIgPSBxLmRlZmVyKCk7XHJcblx0XHQgdmFyIF9yb3dzO1xyXG5cdFx0IHZhciBfY29ubmVjdGlvbiA9IG15c3FsLmNyZWF0ZUNvbm5lY3Rpb24odGhpcy5kYkNvbmZpZyk7XHJcblx0XHQgX2Nvbm5lY3Rpb24ucXVlcnkocXVlcnksIChlcnIsIHJvd3MpID0+IHtcclxuXHRcdFx0IF9jb25uZWN0aW9uLmVuZCgpO1xyXG5cdFx0XHQgaWYoZXJyKSB7XHJcblx0XHRcdFx0IGRlZmVyLnJlamVjdChlcnIpOyB0aHJvdyBlcnJcclxuXHRcdFx0fTtcclxuXHRcdFx0ZGVmZXIucmVzb2x2ZShyb3dzKTtcclxuXHRcdCB9KVxyXG5cdFx0IHJldHVybiBkZWZlci5wcm9taXNlO1xyXG5cdCB9XHJcblxyXG4gfVxyXG5cclxuIGV4cG9ydCB2YXIgc2VydmljZSA9IG5ldyBDb25uZWN0aW9uU2VydmljZSgpO1xyXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=