///<reference path='../typings/hapi/hapi.d.ts' />
'use strict';
var _this = this;
var hapi = require("hapi");
var ProductsRoutes = require("./modules/products/products.routes");
var _server = new hapi.Server();
this.server = new hapi.Server();
this.server._host = 'localhost';
this.server._port = 9000;
for (var route in ProductsRoutes) {
    ProductsRoutes[route].path = '/api' + ProductsRoutes[route].path;
    this.server.route(ProductsRoutes[route]);
}
//help for see all the routes
this.server.route({
    method: 'GET',
    path: '/api',
    handler: function (request, reply) {
        var _table = _this.server.table();
        var _answer = {};
        _table.map(function (element) {
            _answer[element.fingerprint] = {
                path: element.path,
                method: element.method
            };
        });
        reply(_answer);
    }
});
//this.server.connection({ port: process.env.PORT ||3000 });
this.server.start(function () {
    console.log('Started: ' + _this.server.info.uri);
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLEFBQ0EsaURBRGlEO0FBQ2pELFlBQVksQ0FBQztBQUFiLGlCQXdDQTtBQXRDQSxJQUFPLElBQUksV0FBVyxNQUFNLENBQUMsQ0FBQztBQUM5QixJQUFPLGNBQWMsV0FBVyxvQ0FBb0MsQ0FBQyxDQUFDO0FBRXRFLElBQUksT0FBTyxHQUFHLElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFBO0FBRS9CLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7QUFDaEMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEdBQUcsV0FBVyxDQUFDO0FBQ2hDLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQztBQUd6QixHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsS0FBSyxJQUFJLGNBQWMsQ0FBQyxDQUFDLENBQUM7SUFDbEMsY0FBYyxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksR0FBRyxNQUFNLEdBQUcsY0FBYyxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQztJQUNqRSxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQTtBQUN6QyxDQUFDO0FBRUQsQUFFQSw2QkFGNkI7QUFFN0IsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUM7SUFDakIsTUFBTSxFQUFFLEtBQUs7SUFDYixJQUFJLEVBQUUsTUFBTTtJQUNaLE9BQU8sRUFBRSxVQUFDLE9BQU8sRUFBRSxLQUFLO1FBQ3RCLElBQUksTUFBTSxHQUFHLEtBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDakMsSUFBSSxPQUFPLEdBQUcsRUFBRSxDQUFDO1FBQ1YsTUFBTSxDQUFDLEdBQUcsQ0FBQyxVQUFDLE9BQU87WUFDakIsT0FBTyxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsR0FBRztnQkFDdEMsSUFBSSxFQUFFLE9BQU8sQ0FBQyxJQUFJO2dCQUNsQixNQUFNLEVBQUUsT0FBTyxDQUFDLE1BQU07YUFDdkIsQ0FBQTtRQUNJLENBQUMsQ0FBQyxDQUFBO1FBQ0YsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ3RCLENBQUM7Q0FDRCxDQUFDLENBQUE7QUFFRixBQUNBLDREQUQ0RDtBQUM1RCxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQztJQUNqQixPQUFPLENBQUMsR0FBRyxDQUFDLFdBQVcsR0FBRyxLQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUNqRCxDQUFDLENBQUMsQ0FBQSIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vLzxyZWZlcmVuY2UgcGF0aD0nLi4vdHlwaW5ncy9oYXBpL2hhcGkuZC50cycgLz5cclxuJ3VzZSBzdHJpY3QnO1xyXG5cclxuaW1wb3J0IGhhcGkgPSByZXF1aXJlKFwiaGFwaVwiKTtcclxuaW1wb3J0IFByb2R1Y3RzUm91dGVzID0gcmVxdWlyZShcIi4vbW9kdWxlcy9wcm9kdWN0cy9wcm9kdWN0cy5yb3V0ZXNcIik7XHJcblxyXG52YXIgX3NlcnZlciA9IG5ldyBoYXBpLlNlcnZlcigpXHJcblxyXG50aGlzLnNlcnZlciA9IG5ldyBoYXBpLlNlcnZlcigpO1xyXG50aGlzLnNlcnZlci5faG9zdCA9ICdsb2NhbGhvc3QnO1xyXG50aGlzLnNlcnZlci5fcG9ydCA9IDkwMDA7XHJcblxyXG4vLyBhZGQgcHJvZHVjdHMgYXBpIHJvdXRlc1xyXG5mb3IgKHZhciByb3V0ZSBpbiBQcm9kdWN0c1JvdXRlcykge1xyXG5cdFByb2R1Y3RzUm91dGVzW3JvdXRlXS5wYXRoID0gJy9hcGknICsgUHJvZHVjdHNSb3V0ZXNbcm91dGVdLnBhdGg7XHJcblx0dGhpcy5zZXJ2ZXIucm91dGUoUHJvZHVjdHNSb3V0ZXNbcm91dGVdKVxyXG59XHJcblxyXG4vL2hlbHAgZm9yIHNlZSBhbGwgdGhlIHJvdXRlc1xyXG5cclxudGhpcy5zZXJ2ZXIucm91dGUoe1xyXG5cdG1ldGhvZDogJ0dFVCcsXHJcblx0cGF0aDogJy9hcGknLFxyXG5cdGhhbmRsZXI6IChyZXF1ZXN0LCByZXBseSkgPT4ge1xyXG5cdFx0IHZhciBfdGFibGUgPSB0aGlzLnNlcnZlci50YWJsZSgpO1xyXG5cdFx0IHZhciBfYW5zd2VyID0ge307XHJcbiAgICAgICAgICBfdGFibGUubWFwKChlbGVtZW50KSA9PiB7XHJcbiAgICAgICAgICAgIF9hbnN3ZXJbZWxlbWVudC5maW5nZXJwcmludF0gPSB7XHJcblx0XHRcdFx0IHBhdGg6IGVsZW1lbnQucGF0aCxcclxuXHRcdFx0XHQgbWV0aG9kOiBlbGVtZW50Lm1ldGhvZFxyXG5cdFx0XHR9XHJcbiAgICAgICAgfSlcclxuICAgICAgICByZXBseShfYW5zd2VyKTtcclxuXHR9XHJcbn0pXHJcblxyXG4vL3RoaXMuc2VydmVyLmNvbm5lY3Rpb24oeyBwb3J0OiBwcm9jZXNzLmVudi5QT1JUIHx8MzAwMCB9KTtcclxudGhpcy5zZXJ2ZXIuc3RhcnQoKCkgPT4ge1xyXG5cdGNvbnNvbGUubG9nKCdTdGFydGVkOiAnICsgdGhpcy5zZXJ2ZXIuaW5mby51cmkpO1xyXG59KVxyXG5cclxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9