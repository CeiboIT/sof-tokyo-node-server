///<reference path='../typings/hapi/hapi.d.ts' />
'use strict';
var _this = this;
var hapi = require("hapi");
var ProductsRoutes = require("./modules/products/products.routes");
var _server = new hapi.Server();
this.server = new hapi.Server();
console.log(process.env);
this.server._host = process.env.HOSTNAME || 'localhost';
this.server._port = process.env.PORT || 9000;
for (var route in ProductsRoutes) {
    ProductsRoutes[route].path = '/api' + ProductsRoutes[route].path;
    this.server.route(ProductsRoutes[route]);
}
//help for see all the routes
this.server.route({
    method: 'GET',
    path: '/api',
    handler: function (request, reply) {
        var _table = _this.server.table();
        var _answer = {};
        _table.map(function (element) {
            _answer[element.fingerprint] = {
                path: element.path,
                method: element.method
            };
        });
        reply(_answer);
    }
});
//this.server.connection({ port: process.env.PORT ||3000 });
this.server.start(function () {
    console.log('Started: ' + _this.server.info.uri);
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLEFBQ0EsaURBRGlEO0FBQ2pELFlBQVksQ0FBQztBQUFiLGlCQXlDQTtBQXZDQSxJQUFPLElBQUksV0FBVyxNQUFNLENBQUMsQ0FBQztBQUM5QixJQUFPLGNBQWMsV0FBVyxvQ0FBb0MsQ0FBQyxDQUFDO0FBRXRFLElBQUksT0FBTyxHQUFHLElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFBO0FBRS9CLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7QUFDaEMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDekIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxRQUFRLElBQUksV0FBVyxDQUFDO0FBQ3hELElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxJQUFFLElBQUksQ0FBQztBQUczQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsS0FBSyxJQUFJLGNBQWMsQ0FBQyxDQUFDLENBQUM7SUFDbEMsY0FBYyxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksR0FBRyxNQUFNLEdBQUcsY0FBYyxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQztJQUNqRSxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQTtBQUN6QyxDQUFDO0FBRUQsQUFFQSw2QkFGNkI7QUFFN0IsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUM7SUFDakIsTUFBTSxFQUFFLEtBQUs7SUFDYixJQUFJLEVBQUUsTUFBTTtJQUNaLE9BQU8sRUFBRSxVQUFDLE9BQU8sRUFBRSxLQUFLO1FBQ3RCLElBQUksTUFBTSxHQUFHLEtBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDakMsSUFBSSxPQUFPLEdBQUcsRUFBRSxDQUFDO1FBQ1YsTUFBTSxDQUFDLEdBQUcsQ0FBQyxVQUFDLE9BQU87WUFDakIsT0FBTyxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsR0FBRztnQkFDdEMsSUFBSSxFQUFFLE9BQU8sQ0FBQyxJQUFJO2dCQUNsQixNQUFNLEVBQUUsT0FBTyxDQUFDLE1BQU07YUFDdkIsQ0FBQTtRQUNJLENBQUMsQ0FBQyxDQUFBO1FBQ0YsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ3RCLENBQUM7Q0FDRCxDQUFDLENBQUE7QUFFRixBQUNBLDREQUQ0RDtBQUM1RCxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQztJQUNqQixPQUFPLENBQUMsR0FBRyxDQUFDLFdBQVcsR0FBRyxLQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUNqRCxDQUFDLENBQUMsQ0FBQSIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vLzxyZWZlcmVuY2UgcGF0aD0nLi4vdHlwaW5ncy9oYXBpL2hhcGkuZC50cycgLz5cclxuJ3VzZSBzdHJpY3QnO1xyXG5cclxuaW1wb3J0IGhhcGkgPSByZXF1aXJlKFwiaGFwaVwiKTtcclxuaW1wb3J0IFByb2R1Y3RzUm91dGVzID0gcmVxdWlyZShcIi4vbW9kdWxlcy9wcm9kdWN0cy9wcm9kdWN0cy5yb3V0ZXNcIik7XHJcblxyXG52YXIgX3NlcnZlciA9IG5ldyBoYXBpLlNlcnZlcigpXHJcblxyXG50aGlzLnNlcnZlciA9IG5ldyBoYXBpLlNlcnZlcigpO1xyXG5jb25zb2xlLmxvZyhwcm9jZXNzLmVudik7XHJcbnRoaXMuc2VydmVyLl9ob3N0ID0gcHJvY2Vzcy5lbnYuSE9TVE5BTUUgfHwgJ2xvY2FsaG9zdCc7XHJcbnRoaXMuc2VydmVyLl9wb3J0ID0gcHJvY2Vzcy5lbnYuUE9SVHx8OTAwMDtcclxuXHJcbi8vIGFkZCBwcm9kdWN0cyBhcGkgcm91dGVzXHJcbmZvciAodmFyIHJvdXRlIGluIFByb2R1Y3RzUm91dGVzKSB7XHJcblx0UHJvZHVjdHNSb3V0ZXNbcm91dGVdLnBhdGggPSAnL2FwaScgKyBQcm9kdWN0c1JvdXRlc1tyb3V0ZV0ucGF0aDtcclxuXHR0aGlzLnNlcnZlci5yb3V0ZShQcm9kdWN0c1JvdXRlc1tyb3V0ZV0pXHJcbn1cclxuXHJcbi8vaGVscCBmb3Igc2VlIGFsbCB0aGUgcm91dGVzXHJcblxyXG50aGlzLnNlcnZlci5yb3V0ZSh7XHJcblx0bWV0aG9kOiAnR0VUJyxcclxuXHRwYXRoOiAnL2FwaScsXHJcblx0aGFuZGxlcjogKHJlcXVlc3QsIHJlcGx5KSA9PiB7XHJcblx0XHQgdmFyIF90YWJsZSA9IHRoaXMuc2VydmVyLnRhYmxlKCk7XHJcblx0XHQgdmFyIF9hbnN3ZXIgPSB7fTtcclxuICAgICAgICAgIF90YWJsZS5tYXAoKGVsZW1lbnQpID0+IHtcclxuICAgICAgICAgICAgX2Fuc3dlcltlbGVtZW50LmZpbmdlcnByaW50XSA9IHtcclxuXHRcdFx0XHQgcGF0aDogZWxlbWVudC5wYXRoLFxyXG5cdFx0XHRcdCBtZXRob2Q6IGVsZW1lbnQubWV0aG9kXHJcblx0XHRcdH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIHJlcGx5KF9hbnN3ZXIpO1xyXG5cdH1cclxufSlcclxuXHJcbi8vdGhpcy5zZXJ2ZXIuY29ubmVjdGlvbih7IHBvcnQ6IHByb2Nlc3MuZW52LlBPUlQgfHwzMDAwIH0pO1xyXG50aGlzLnNlcnZlci5zdGFydCgoKSA9PiB7XHJcblx0Y29uc29sZS5sb2coJ1N0YXJ0ZWQ6ICcgKyB0aGlzLnNlcnZlci5pbmZvLnVyaSk7XHJcbn0pXHJcblxyXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=