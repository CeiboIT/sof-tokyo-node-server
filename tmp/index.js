///<reference path='../typings/hapi/hapi.d.ts' />
'use strict';
var _this = this;
var hapi = require("hapi");
var ProductsRoutes = require("./modules/products/products.routes");
var _server = new hapi.Server();
this.server = new hapi.Server();
if (process.env.NODE_ENV != 'development') {
    this.server._host = '0.0.0.0';
}
else {
    this.server._host = 'localhost';
}
this.server._port = process.env.PORT || 9000;
for (var route in ProductsRoutes) {
    ProductsRoutes[route].path = '/api' + ProductsRoutes[route].path;
    this.server.route(ProductsRoutes[route]);
}
//help for see all the routes
this.server.route({
    method: 'GET',
    path: '/api',
    handler: function (request, reply) {
        var _table = _this.server.table();
        var _answer = {};
        _table.map(function (element) {
            _answer[element.fingerprint] = {
                path: element.path,
                method: element.method
            };
        });
        reply(_answer);
    }
});
//this.server.connection({ port: process.env.PORT ||3000 });
this.server.start(function () {
    console.log('Started: ' + _this.server.info.uri);
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLEFBQ0EsaURBRGlEO0FBQ2pELFlBQVksQ0FBQztBQUFiLGlCQThDQTtBQTVDQSxJQUFPLElBQUksV0FBVyxNQUFNLENBQUMsQ0FBQztBQUM5QixJQUFPLGNBQWMsV0FBVyxvQ0FBb0MsQ0FBQyxDQUFDO0FBRXRFLElBQUksT0FBTyxHQUFHLElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFBO0FBRS9CLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7QUFFaEMsRUFBRSxDQUFBLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxRQUFRLElBQUksYUFBYSxDQUFDLENBQUMsQ0FBQztJQUMxQyxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssR0FBRyxTQUFTLENBQUM7QUFDL0IsQ0FBQztBQUFDLElBQUksQ0FBQyxDQUFDO0lBQ1AsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEdBQUMsV0FBVyxDQUFDO0FBQy9CLENBQUM7QUFFRCxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDLElBQUksSUFBRSxJQUFJLENBQUM7QUFHM0MsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEtBQUssSUFBSSxjQUFjLENBQUMsQ0FBQyxDQUFDO0lBQ2xDLGNBQWMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLEdBQUcsTUFBTSxHQUFHLGNBQWMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUM7SUFDakUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsY0FBYyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUE7QUFDekMsQ0FBQztBQUVELEFBRUEsNkJBRjZCO0FBRTdCLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDO0lBQ2pCLE1BQU0sRUFBRSxLQUFLO0lBQ2IsSUFBSSxFQUFFLE1BQU07SUFDWixPQUFPLEVBQUUsVUFBQyxPQUFPLEVBQUUsS0FBSztRQUN0QixJQUFJLE1BQU0sR0FBRyxLQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxDQUFDO1FBQ2pDLElBQUksT0FBTyxHQUFHLEVBQUUsQ0FBQztRQUNWLE1BQU0sQ0FBQyxHQUFHLENBQUMsVUFBQyxPQUFPO1lBQ2pCLE9BQU8sQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLEdBQUc7Z0JBQ3RDLElBQUksRUFBRSxPQUFPLENBQUMsSUFBSTtnQkFDbEIsTUFBTSxFQUFFLE9BQU8sQ0FBQyxNQUFNO2FBQ3ZCLENBQUE7UUFDSSxDQUFDLENBQUMsQ0FBQTtRQUNGLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUN0QixDQUFDO0NBQ0QsQ0FBQyxDQUFBO0FBRUYsQUFDQSw0REFENEQ7QUFDNUQsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUM7SUFDakIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxXQUFXLEdBQUcsS0FBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDakQsQ0FBQyxDQUFDLENBQUEiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLy88cmVmZXJlbmNlIHBhdGg9Jy4uL3R5cGluZ3MvaGFwaS9oYXBpLmQudHMnIC8+XG4ndXNlIHN0cmljdCc7XG5cbmltcG9ydCBoYXBpID0gcmVxdWlyZShcImhhcGlcIik7XG5pbXBvcnQgUHJvZHVjdHNSb3V0ZXMgPSByZXF1aXJlKFwiLi9tb2R1bGVzL3Byb2R1Y3RzL3Byb2R1Y3RzLnJvdXRlc1wiKTtcblxudmFyIF9zZXJ2ZXIgPSBuZXcgaGFwaS5TZXJ2ZXIoKVxuXG50aGlzLnNlcnZlciA9IG5ldyBoYXBpLlNlcnZlcigpO1xuXG5pZihwcm9jZXNzLmVudi5OT0RFX0VOViAhPSAnZGV2ZWxvcG1lbnQnKSB7XG5cdHRoaXMuc2VydmVyLl9ob3N0ID0gJzAuMC4wLjAnO1x0XG59IGVsc2Uge1xuXHR0aGlzLnNlcnZlci5faG9zdD0nbG9jYWxob3N0Jztcbn1cblxudGhpcy5zZXJ2ZXIuX3BvcnQgPSBwcm9jZXNzLmVudi5QT1JUfHw5MDAwO1xuXG4vLyBhZGQgcHJvZHVjdHMgYXBpIHJvdXRlc1xuZm9yICh2YXIgcm91dGUgaW4gUHJvZHVjdHNSb3V0ZXMpIHtcblx0UHJvZHVjdHNSb3V0ZXNbcm91dGVdLnBhdGggPSAnL2FwaScgKyBQcm9kdWN0c1JvdXRlc1tyb3V0ZV0ucGF0aDtcblx0dGhpcy5zZXJ2ZXIucm91dGUoUHJvZHVjdHNSb3V0ZXNbcm91dGVdKVxufVxuXG4vL2hlbHAgZm9yIHNlZSBhbGwgdGhlIHJvdXRlc1xuXG50aGlzLnNlcnZlci5yb3V0ZSh7XG5cdG1ldGhvZDogJ0dFVCcsXG5cdHBhdGg6ICcvYXBpJyxcblx0aGFuZGxlcjogKHJlcXVlc3QsIHJlcGx5KSA9PiB7XG5cdFx0IHZhciBfdGFibGUgPSB0aGlzLnNlcnZlci50YWJsZSgpO1xuXHRcdCB2YXIgX2Fuc3dlciA9IHt9O1xuICAgICAgICAgIF90YWJsZS5tYXAoKGVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgIF9hbnN3ZXJbZWxlbWVudC5maW5nZXJwcmludF0gPSB7XG5cdFx0XHRcdCBwYXRoOiBlbGVtZW50LnBhdGgsXG5cdFx0XHRcdCBtZXRob2Q6IGVsZW1lbnQubWV0aG9kXG5cdFx0XHR9XG4gICAgICAgIH0pXG4gICAgICAgIHJlcGx5KF9hbnN3ZXIpO1xuXHR9XG59KVxuXG4vL3RoaXMuc2VydmVyLmNvbm5lY3Rpb24oeyBwb3J0OiBwcm9jZXNzLmVudi5QT1JUIHx8MzAwMCB9KTtcbnRoaXMuc2VydmVyLnN0YXJ0KCgpID0+IHtcblx0Y29uc29sZS5sb2coJ1N0YXJ0ZWQ6ICcgKyB0aGlzLnNlcnZlci5pbmZvLnVyaSk7XG59KVxuXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=