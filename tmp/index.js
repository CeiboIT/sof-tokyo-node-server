///<reference path='../typings/hapi/hapi.d.ts' />
'use strict';
var _this = this;
var hapi = require("hapi");
var ProductsRoutes = require("./modules/products/products.routes");
this.server = new hapi.Server();
var _host;
if (process.env.NODE_ENV != 'development') {
    _host = '0.0.0.0';
}
else {
    _host = 'localhost';
}
this.server.connection({
    port: process.env.PORT || 9000,
    host: _host
});
for (var route in ProductsRoutes) {
    ProductsRoutes[route].path = '/api' + ProductsRoutes[route].path;
    this.server.route(ProductsRoutes[route]);
}
//help for see all the routes
this.server.route({
    method: 'GET',
    path: '/api',
    handler: function (request, reply) {
        var _table = _this.server.table();
        var _answer = {};
        _table.table.map(function (element) {
            console.log(element);
            _answer[element.fingerprint] = {
                path: element.path,
                method: element.method
            };
        });
        reply(_answer);
    }
});
//this.server.connection({ port: process.env.PORT ||3000 });
this.server.start(function () {
    console.log('Started: ' + _this.server.info.uri);
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLEFBQ0EsaURBRGlEO0FBQ2pELFlBQVksQ0FBQztBQUFiLGlCQXNEQTtBQXBEQSxJQUFPLElBQUksV0FBVyxNQUFNLENBQUMsQ0FBQztBQUM5QixJQUFPLGNBQWMsV0FBVyxvQ0FBb0MsQ0FBQyxDQUFDO0FBRXRFLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7QUFFaEMsSUFBSSxLQUFLLENBQUM7QUFFVixFQUFFLENBQUMsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLFFBQVEsSUFBSSxhQUFhLENBQUMsQ0FBQyxDQUFDO0lBQ3hDLEtBQUssR0FBRyxTQUFTLENBQUM7QUFDdEIsQ0FBQztBQUFDLElBQUksQ0FBQyxDQUFDO0lBQ0osS0FBSyxHQUFHLFdBQVcsQ0FBQztBQUN4QixDQUFDO0FBSUQsSUFBSSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUM7SUFDbkIsSUFBSSxFQUFFLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxJQUFJLElBQUk7SUFDOUIsSUFBSSxFQUFFLEtBQUs7Q0FDZCxDQUFDLENBQUE7QUFLRixHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsS0FBSyxJQUFJLGNBQWMsQ0FBQyxDQUFDLENBQUM7SUFDL0IsY0FBYyxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksR0FBRyxNQUFNLEdBQUcsY0FBYyxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQztJQUNqRSxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQTtBQUM1QyxDQUFDO0FBRUQsQUFDQSw2QkFENkI7QUFDN0IsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUM7SUFDZCxNQUFNLEVBQUUsS0FBSztJQUNiLElBQUksRUFBRSxNQUFNO0lBQ1osT0FBTyxFQUFFLFVBQUMsT0FBTyxFQUFFLEtBQUs7UUFDcEIsSUFBSSxNQUFNLEdBQUcsS0FBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUVqQyxJQUFJLE9BQU8sR0FBRyxFQUFFLENBQUM7UUFDakIsTUFBTSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsVUFBQyxPQUFPO1lBQ3JCLE9BQU8sQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUM7WUFDckIsT0FBTyxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsR0FBRztnQkFDM0IsSUFBSSxFQUFFLE9BQU8sQ0FBQyxJQUFJO2dCQUNsQixNQUFNLEVBQUUsT0FBTyxDQUFDLE1BQU07YUFDekIsQ0FBQTtRQUNMLENBQUMsQ0FBQyxDQUFBO1FBQ0YsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ25CLENBQUM7Q0FDSixDQUFDLENBQUE7QUFFRixBQUNBLDREQUQ0RDtBQUM1RCxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQztJQUNkLE9BQU8sQ0FBQyxHQUFHLENBQUMsV0FBVyxHQUFHLEtBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0FBQ3BELENBQUMsQ0FBQyxDQUFBIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8vPHJlZmVyZW5jZSBwYXRoPScuLi90eXBpbmdzL2hhcGkvaGFwaS5kLnRzJyAvPlxyXG4ndXNlIHN0cmljdCc7XHJcblxyXG5pbXBvcnQgaGFwaSA9IHJlcXVpcmUoXCJoYXBpXCIpO1xyXG5pbXBvcnQgUHJvZHVjdHNSb3V0ZXMgPSByZXF1aXJlKFwiLi9tb2R1bGVzL3Byb2R1Y3RzL3Byb2R1Y3RzLnJvdXRlc1wiKTtcclxuXHJcbnRoaXMuc2VydmVyID0gbmV3IGhhcGkuU2VydmVyKCk7XHJcblxyXG52YXIgX2hvc3Q7XHJcblxyXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT0gJ2RldmVsb3BtZW50Jykge1xyXG4gICAgX2hvc3QgPSAnMC4wLjAuMCc7XHJcbn0gZWxzZSB7XHJcbiAgICBfaG9zdCA9ICdsb2NhbGhvc3QnO1xyXG59XHJcblxyXG5cclxuXHJcbnRoaXMuc2VydmVyLmNvbm5lY3Rpb24oe1xyXG4gICAgcG9ydDogcHJvY2Vzcy5lbnYuUE9SVCB8fCA5MDAwLFxyXG4gICAgaG9zdDogX2hvc3RcclxufSlcclxuXHJcblxyXG5cclxuLy8gYWRkIHByb2R1Y3RzIGFwaSByb3V0ZXNcclxuZm9yICh2YXIgcm91dGUgaW4gUHJvZHVjdHNSb3V0ZXMpIHtcclxuICAgIFByb2R1Y3RzUm91dGVzW3JvdXRlXS5wYXRoID0gJy9hcGknICsgUHJvZHVjdHNSb3V0ZXNbcm91dGVdLnBhdGg7XHJcbiAgICB0aGlzLnNlcnZlci5yb3V0ZShQcm9kdWN0c1JvdXRlc1tyb3V0ZV0pXHJcbn1cclxuXHJcbi8vaGVscCBmb3Igc2VlIGFsbCB0aGUgcm91dGVzXHJcbnRoaXMuc2VydmVyLnJvdXRlKHtcclxuICAgIG1ldGhvZDogJ0dFVCcsXHJcbiAgICBwYXRoOiAnL2FwaScsXHJcbiAgICBoYW5kbGVyOiAocmVxdWVzdCwgcmVwbHkpID0+IHtcclxuICAgICAgICB2YXIgX3RhYmxlID0gdGhpcy5zZXJ2ZXIudGFibGUoKTtcclxuICAgICAgXHJcbiAgICAgICAgdmFyIF9hbnN3ZXIgPSB7fTtcclxuICAgICAgICBfdGFibGUudGFibGUubWFwKChlbGVtZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVsZW1lbnQpO1xyXG4gICAgICAgICAgICBfYW5zd2VyW2VsZW1lbnQuZmluZ2VycHJpbnRdID0ge1xyXG4gICAgICAgICAgICAgICAgcGF0aDogZWxlbWVudC5wYXRoLFxyXG4gICAgICAgICAgICAgICAgbWV0aG9kOiBlbGVtZW50Lm1ldGhvZFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICByZXBseShfYW5zd2VyKTtcclxuICAgIH1cclxufSlcclxuXHJcbi8vdGhpcy5zZXJ2ZXIuY29ubmVjdGlvbih7IHBvcnQ6IHByb2Nlc3MuZW52LlBPUlQgfHwzMDAwIH0pO1xyXG50aGlzLnNlcnZlci5zdGFydCgoKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZygnU3RhcnRlZDogJyArIHRoaXMuc2VydmVyLmluZm8udXJpKTtcclxufSlcclxuXHJcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==