///<reference path='../typings/hapi/hapi.d.ts' />
'use strict';
var _this = this;
var hapi = require("hapi");
var routes = require("./routes");
this.server = new hapi.Server();
var _host;
var lout_status = false;
if (process.env.NODE_ENV != 'development') {
    _host = '0.0.0.0';
}
else {
    _host = 'localhost';
}
this.server.connection({
    port: process.env.PORT || 9000,
    host: _host
});
for (var route in routes) {
    routes[route].path = '/api' + routes[route].path;
    this.server.route(routes[route]);
}
// Lout documentation to see all the API routes
this.server.register([require('vision'), require('inert'), {
    register: require('lout'),
    options: {
        endpoint: '/api'
    }
}], function () {
    lout_status = true;
});
// Start server
this.server.start(function () {
    if (lout_status == true)
        console.log('✓ lout: API Documentation generated at ' + _this.server.info.uri + '/api');
    console.log('✓ Hapi: Server started at ' + _this.server.info.uri);
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLEFBQ0EsaURBRGlEO0FBQ2pELFlBQVksQ0FBQztBQUFiLGlCQTJDQTtBQXpDQSxJQUFPLElBQUksV0FBVyxNQUFNLENBQUMsQ0FBQztBQUM5QixJQUFPLE1BQU0sV0FBVyxVQUFVLENBQUMsQ0FBQztBQUVwQyxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO0FBRWhDLElBQUksS0FBSyxDQUFDO0FBQ1YsSUFBSSxXQUFXLEdBQUcsS0FBSyxDQUFDO0FBRXhCLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsUUFBUSxJQUFJLGFBQWEsQ0FBQyxDQUFDLENBQUM7SUFDeEMsS0FBSyxHQUFHLFNBQVMsQ0FBQztBQUN0QixDQUFDO0FBQUMsSUFBSSxDQUFDLENBQUM7SUFDSixLQUFLLEdBQUcsV0FBVyxDQUFDO0FBQ3hCLENBQUM7QUFFRCxJQUFJLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQztJQUNuQixJQUFJLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLElBQUksSUFBSTtJQUM5QixJQUFJLEVBQUUsS0FBSztDQUNkLENBQUMsQ0FBQTtBQUdGLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxLQUFLLElBQUksTUFBTSxDQUFDLENBQUMsQ0FBQztJQUN2QixNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxHQUFHLE1BQU0sR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDO0lBQ2pELElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFBO0FBQ3BDLENBQUM7QUFFRCxBQUNBLCtDQUQrQztBQUMvQyxJQUFJLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsRUFBRSxPQUFPLENBQUMsT0FBTyxDQUFDLEVBQUU7SUFDdkQsUUFBUSxFQUFFLE9BQU8sQ0FBQyxNQUFNLENBQUM7SUFDekIsT0FBTyxFQUFFO1FBQ0wsUUFBUSxFQUFFLE1BQU07S0FDbkI7Q0FDSixDQUFDLEVBQUU7SUFDQSxXQUFXLEdBQUcsSUFBSSxDQUFDO0FBQ3ZCLENBQUMsQ0FBQyxDQUFDO0FBRUgsQUFDQSxlQURlO0FBQ2YsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUM7SUFDZCxFQUFFLENBQUMsQ0FBQyxXQUFXLElBQUksSUFBSSxDQUFDO1FBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyx5Q0FBeUMsR0FBRyxLQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLEdBQUcsTUFBTSxDQUFDLENBQUM7SUFDaEgsT0FBTyxDQUFDLEdBQUcsQ0FBQyw0QkFBNEIsR0FBRyxLQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUNyRSxDQUFDLENBQUMsQ0FBQSIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vLzxyZWZlcmVuY2UgcGF0aD0nLi4vdHlwaW5ncy9oYXBpL2hhcGkuZC50cycgLz5cbid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IGhhcGkgPSByZXF1aXJlKFwiaGFwaVwiKTtcbmltcG9ydCByb3V0ZXMgPSByZXF1aXJlKFwiLi9yb3V0ZXNcIik7XG5cbnRoaXMuc2VydmVyID0gbmV3IGhhcGkuU2VydmVyKCk7XG5cbnZhciBfaG9zdDtcbnZhciBsb3V0X3N0YXR1cyA9IGZhbHNlO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT0gJ2RldmVsb3BtZW50Jykge1xuICAgIF9ob3N0ID0gJzAuMC4wLjAnO1xufSBlbHNlIHtcbiAgICBfaG9zdCA9ICdsb2NhbGhvc3QnO1xufVxuXG50aGlzLnNlcnZlci5jb25uZWN0aW9uKHtcbiAgICBwb3J0OiBwcm9jZXNzLmVudi5QT1JUIHx8IDkwMDAsXG4gICAgaG9zdDogX2hvc3Rcbn0pXG5cbi8vIEFkZCBhbGwgQVBJIHJvdXRlc1xuZm9yICh2YXIgcm91dGUgaW4gcm91dGVzKSB7XG4gICAgcm91dGVzW3JvdXRlXS5wYXRoID0gJy9hcGknICsgcm91dGVzW3JvdXRlXS5wYXRoO1xuICAgIHRoaXMuc2VydmVyLnJvdXRlKHJvdXRlc1tyb3V0ZV0pXG59XG5cbi8vIExvdXQgZG9jdW1lbnRhdGlvbiB0byBzZWUgYWxsIHRoZSBBUEkgcm91dGVzXG50aGlzLnNlcnZlci5yZWdpc3RlcihbcmVxdWlyZSgndmlzaW9uJyksIHJlcXVpcmUoJ2luZXJ0JyksIHtcbiAgICByZWdpc3RlcjogcmVxdWlyZSgnbG91dCcpLFxuICAgIG9wdGlvbnM6IHtcbiAgICAgICAgZW5kcG9pbnQ6ICcvYXBpJ1xuICAgIH1cbn1dLCBmdW5jdGlvbigpIHtcbiAgICBsb3V0X3N0YXR1cyA9IHRydWU7XG59KTtcblxuLy8gU3RhcnQgc2VydmVyXG50aGlzLnNlcnZlci5zdGFydCgoKSA9PiB7XG4gICAgaWYgKGxvdXRfc3RhdHVzID09IHRydWUpIGNvbnNvbGUubG9nKCfinJMgbG91dDogQVBJIERvY3VtZW50YXRpb24gZ2VuZXJhdGVkIGF0ICcgKyB0aGlzLnNlcnZlci5pbmZvLnVyaSArICcvYXBpJyk7XG4gICAgY29uc29sZS5sb2coJ+KckyBIYXBpOiBTZXJ2ZXIgc3RhcnRlZCBhdCAnICsgdGhpcy5zZXJ2ZXIuaW5mby51cmkpO1xufSlcblxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9